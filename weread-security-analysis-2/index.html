<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>微信读书客户端 逆向 api文档 | Yumi's Blog</title><meta name="author" content="Yichen"><meta name="copyright" content="Yichen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="CC BY-NC-SA 4.0  1234567891011const API_BASE &#x3D; &amp;#x27;https:&#x2F;&#x2F;i.weread.qq.com&amp;#x27;;const USER_AGENT &#x3D; &amp;#x27;WeRead&#x2F;7.0.0 WRBrand&#x2F;huawei Dalvik&#x2F;2.1.0&amp;#x27;;&#x2F;&#x2F; 通用请求头const getHeaders &#x3D; (vid, skey) &#x3D;&gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="微信读书客户端 逆向 api文档">
<meta property="og:url" content="https://yumi1.top/weread-security-analysis-2/index.html">
<meta property="og:site_name" content="Yumi&#39;s Blog">
<meta property="og:description" content="CC BY-NC-SA 4.0  1234567891011const API_BASE &#x3D; &amp;#x27;https:&#x2F;&#x2F;i.weread.qq.com&amp;#x27;;const USER_AGENT &#x3D; &amp;#x27;WeRead&#x2F;7.0.0 WRBrand&#x2F;huawei Dalvik&#x2F;2.1.0&amp;#x27;;&#x2F;&#x2F; 通用请求头const getHeaders &#x3D; (vid, skey) &#x3D;&gt;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.paulzzh.com/touhou/random">
<meta property="article:published_time" content="2025-08-04T12:31:00.000Z">
<meta property="article:modified_time" content="2025-08-04T14:24:54.783Z">
<meta property="article:author" content="Yichen">
<meta property="article:tag" content="漏洞分析">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.paulzzh.com/touhou/random"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "微信读书客户端 逆向 api文档",
  "url": "https://yumi1.top/weread-security-analysis-2/",
  "image": "https://img.paulzzh.com/touhou/random",
  "datePublished": "2025-08-04T12:31:00.000Z",
  "dateModified": "2025-08-04T14:24:54.783Z",
  "author": [
    {
      "@type": "Person",
      "name": "Yichen",
      "url": "https://yumi1.top"
    }
  ]
}</script><link rel="shortcut icon" href="/img/3.ico"><link rel="canonical" href="https://yumi1.top/weread-security-analysis-2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="codeva-wQoLfGPaAh"/><meta name="baidu-site-verification" content="codeva-nk45Z5AWjN"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '微信读书客户端 逆向 api文档',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Yumi's Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/tx.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">56</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(https://img.paulzzh.com/touhou/random);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/3.ico" alt="Logo"><span class="site-name">Yumi's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">微信读书客户端 逆向 api文档</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">微信读书客户端 逆向 api文档</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-04T12:31:00.000Z" title="发表于 2025-08-04 20:31:00">2025-08-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-04T14:24:54.783Z" title="更新于 2025-08-04 22:24:54">2025-08-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%80%86%E5%90%91/">微信读书客户端逆向</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div class="note flat"><p>CC BY-NC-SA 4.0</p>
</div>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">API_BASE</span> = <span class="string">&#x27;https://i.weread.qq.com&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">USER_AGENT</span> = <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通用请求头</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getHeaders</span> = (<span class="params">vid, skey</span>) =&gt; (&#123;</span><br><span class="line">  <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">  <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">  <span class="string">&#x27;User-Agent&#x27;</span>: <span class="variable constant_">USER_AGENT</span>,</span><br><span class="line">  <span class="string">&#x27;v&#x27;</span>: <span class="string">&#x27;7.4.2.23&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>基础<code>headers</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 使用 refresh_token 登录</span></span><br><span class="line"><span class="keyword">const</span> loginResponse = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`<span class="subst">$&#123;API_BASE&#125;</span>/login`</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123; <span class="string">&#x27;User-Agent&#x27;</span>: <span class="variable constant_">USER_AGENT</span> &#125;,</span><br><span class="line">  <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">    <span class="attr">deviceId</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">    <span class="attr">refCgi</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">refreshToken</span>: <span class="string">&#x27;your_refresh_token&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; vid, skey &#125; = <span class="keyword">await</span> loginResponse.<span class="title function_">json</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 使用 vid 和 skey 调用其他 API</span></span><br><span class="line"><span class="keyword">const</span> userProfile = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`<span class="subst">$&#123;API_BASE&#125;</span>/user/profile`</span>, &#123;</span><br><span class="line">  <span class="attr">headers</span>: <span class="title function_">getHeaders</span>(vid, skey)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1>错误码</h1>
<h2 id="通用错误码">通用错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>SUCCESS</td>
<td>成功</td>
</tr>
<tr>
<td>-2001</td>
<td>ErrorUnknown</td>
<td>未知错误</td>
</tr>
<tr>
<td>-2002</td>
<td>ErrorUndone</td>
<td>未完成</td>
</tr>
<tr>
<td>-2003</td>
<td>ErrorInvalidParam</td>
<td>无效参数</td>
</tr>
<tr>
<td>-2014</td>
<td>ErrorOverFreq</td>
<td>请求过于频繁</td>
</tr>
<tr>
<td>-2016</td>
<td>ErrorSvrReadOnly</td>
<td>服务器只读模式</td>
</tr>
<tr>
<td>-2018</td>
<td>ErrorAppVersionOut</td>
<td>应用版本过期</td>
</tr>
<tr>
<td>-2020</td>
<td>ErrorConnFail</td>
<td>连接失败</td>
</tr>
<tr>
<td>-2051</td>
<td>ErrorOverLimit</td>
<td>超出限制</td>
</tr>
<tr>
<td>-2053</td>
<td>ErrorSensitiveWord</td>
<td>敏感词汇</td>
</tr>
</tbody>
</table>
<h2 id="认证相关错误码">认证相关错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2004</td>
<td>ErrorInvalidVid</td>
<td>无效的用户ID</td>
</tr>
<tr>
<td>-2005</td>
<td>ErrorInvalidSkey</td>
<td>无效的会话密钥</td>
</tr>
<tr>
<td>-2006</td>
<td>ErrorInvalidOpenid</td>
<td>无效的OpenID</td>
</tr>
<tr>
<td>-2010</td>
<td>ErrorNoVid</td>
<td>用户不存在</td>
</tr>
<tr>
<td>-2011</td>
<td>ErrorGenSkey</td>
<td>生成会话密钥失败</td>
</tr>
<tr>
<td>-2012</td>
<td>ErrorSessionTimeout</td>
<td>登录超时</td>
</tr>
<tr>
<td>-2013</td>
<td>ErrorAuth</td>
<td>认证失败</td>
</tr>
<tr>
<td>-2017</td>
<td>ErrorVidReadOnly</td>
<td>用户只读模式</td>
</tr>
<tr>
<td>-2041</td>
<td>ErrorNeedVerify</td>
<td>需要验证</td>
</tr>
<tr>
<td>-2050</td>
<td>ErrorVidBlacked</td>
<td>用户被拉黑</td>
</tr>
<tr>
<td>-2054</td>
<td>ErrorInvalidToken</td>
<td>无效的令牌</td>
</tr>
<tr>
<td>-2063</td>
<td>ErrorVerExpired</td>
<td>验证过期</td>
</tr>
<tr>
<td>-2080</td>
<td>ErrorWeChatComm</td>
<td>微信通信错误</td>
</tr>
<tr>
<td>-2081</td>
<td>ErrorWeChatConnect</td>
<td>微信连接错误</td>
</tr>
</tbody>
</table>
<h2 id="用户相关错误码">用户相关错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2026</td>
<td>ErrorAccountSvrFail</td>
<td>账户服务失败</td>
</tr>
<tr>
<td>-2060</td>
<td>ErrorNotFriend</td>
<td>不是好友</td>
</tr>
<tr>
<td>-2061</td>
<td>ErrorUserInfoFail</td>
<td>获取用户信息失败</td>
</tr>
<tr>
<td>-2090</td>
<td>ErrorAntispamComm</td>
<td>反垃圾通信错误</td>
</tr>
<tr>
<td>-2704</td>
<td>ErrorUserForbidChat</td>
<td>用户禁止聊天</td>
</tr>
<tr>
<td>-2997</td>
<td>ErrorAccountAlreadyDeleted</td>
<td>账户已删除</td>
</tr>
<tr>
<td>-2998</td>
<td>ErrorAccountRevoked</td>
<td>账户已撤销</td>
</tr>
</tbody>
</table>
<h2 id="书籍相关错误码">书籍相关错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2008</td>
<td>ErrorInvalidBookid</td>
<td>无效的书籍ID</td>
</tr>
<tr>
<td>-2024</td>
<td>ErrorBookSvrFail</td>
<td>书籍服务失败</td>
</tr>
<tr>
<td>-2030</td>
<td>ErrorNoBook</td>
<td>书籍不存在</td>
</tr>
<tr>
<td>-2031</td>
<td>ErrorNoReview</td>
<td>书评不存在</td>
</tr>
<tr>
<td>-2032</td>
<td>ErrorNoRate</td>
<td>评分不存在</td>
</tr>
<tr>
<td>-2033</td>
<td>ErrorNoBookInfo</td>
<td>书籍信息不存在</td>
</tr>
<tr>
<td>-2034</td>
<td>ErrorNoMark</td>
<td>标记不存在</td>
</tr>
<tr>
<td>-2035</td>
<td>ErrorNoComment</td>
<td>评论不存在</td>
</tr>
<tr>
<td>-2037</td>
<td>ErrorNoBookInventory</td>
<td>书籍库存不足</td>
</tr>
<tr>
<td>-2040</td>
<td>ErrorBookLackContent</td>
<td>书籍缺少内容</td>
</tr>
<tr>
<td>-2311</td>
<td>ErrorBorrowFreeBook</td>
<td>借阅免费书籍错误</td>
</tr>
<tr>
<td>-2312</td>
<td>ErrorBorrowPaid</td>
<td>借阅已付费</td>
</tr>
<tr>
<td>-2313</td>
<td>ErrorBorrowNotPaid</td>
<td>借阅未付费</td>
</tr>
<tr>
<td>-2314</td>
<td>ErrorBorrowInvalidStatus</td>
<td>借阅状态无效</td>
</tr>
<tr>
<td>-2315</td>
<td>ErrorBorrowInvalidData</td>
<td>借阅数据无效</td>
</tr>
<tr>
<td>-2316</td>
<td>ErrorBorrowOut</td>
<td>借阅超时</td>
</tr>
<tr>
<td>-2317</td>
<td>ErrorBorrowing</td>
<td>正在借阅中</td>
</tr>
<tr>
<td>-2531</td>
<td>ErrorBookRunning</td>
<td>书籍处理中</td>
</tr>
<tr>
<td>-2533</td>
<td>ErrorInvalidBookInfo</td>
<td>无效的书籍信息</td>
</tr>
<tr>
<td>-2534</td>
<td>ErrorNoChapterInData</td>
<td>数据中无章节</td>
</tr>
<tr>
<td>-2538</td>
<td>ErrorPreSellBook</td>
<td>预售书籍</td>
</tr>
<tr>
<td>-2999</td>
<td>ErrorUploadBookOverLimit</td>
<td>上传书籍超出限制</td>
</tr>
</tbody>
</table>
<h2 id="支付相关错误码">支付相关错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2009</td>
<td>ErrorInvalidPrice</td>
<td>无效价格</td>
</tr>
<tr>
<td>-2027</td>
<td>ErrorPaySvrFail</td>
<td>支付服务失败</td>
</tr>
<tr>
<td>-2101</td>
<td>ErrorPayKvSelect</td>
<td>支付KV查询失败</td>
</tr>
<tr>
<td>-2102</td>
<td>ErrorPayKvInsert</td>
<td>支付KV插入失败</td>
</tr>
<tr>
<td>-2103</td>
<td>ErrorPayKvUpdate</td>
<td>支付KV更新失败</td>
</tr>
<tr>
<td>-2104</td>
<td>ErrorPayKvParse</td>
<td>支付KV解析失败</td>
</tr>
<tr>
<td>-2105</td>
<td>ErrorPayKvDump</td>
<td>支付KV导出失败</td>
</tr>
<tr>
<td>-2111</td>
<td>ErrorPayFetchBalance</td>
<td>获取余额失败</td>
</tr>
<tr>
<td>-2112</td>
<td>ErrorPayBalanceNotEnough</td>
<td>余额不足</td>
</tr>
<tr>
<td>-2113</td>
<td>ErrorPayPayApi</td>
<td>支付API错误</td>
</tr>
<tr>
<td>-2114</td>
<td>ErrorPayPresentApi</td>
<td>赠送API错误</td>
</tr>
<tr>
<td>-2115</td>
<td>ErrorPayMidasSysErr</td>
<td>米大师系统错误</td>
</tr>
<tr>
<td>-2116</td>
<td>ErrorPayMidasLogicErr</td>
<td>米大师逻辑错误</td>
</tr>
<tr>
<td>-2117</td>
<td>ErrorPayRollbackSucc</td>
<td>支付回滚成功</td>
</tr>
<tr>
<td>-2118</td>
<td>ErrorPayRollbackFail</td>
<td>支付回滚失败</td>
</tr>
<tr>
<td>-2119</td>
<td>ErrorPayAppType</td>
<td>支付应用类型错误</td>
</tr>
<tr>
<td>-2121</td>
<td>ErrorPayPresentAuth</td>
<td>赠送授权错误</td>
</tr>
<tr>
<td>-2123</td>
<td>ErrPayMemberCardNotEnough</td>
<td>会员卡不足</td>
</tr>
<tr>
<td>-2201</td>
<td>ErrorPayPayingBook</td>
<td>书籍支付中</td>
</tr>
<tr>
<td>-2202</td>
<td>ErrorPayBookPaidAlready</td>
<td>书籍已付费</td>
</tr>
<tr>
<td>-2203</td>
<td>ErrorPayBookNotExist</td>
<td>支付书籍不存在</td>
</tr>
<tr>
<td>-2204</td>
<td>ErrorPayFetchBookPrice</td>
<td>获取书籍价格失败</td>
</tr>
<tr>
<td>-2205</td>
<td>ErrorPayFetchNotEntireBook</td>
<td>获取非完整书籍失败</td>
</tr>
<tr>
<td>-2206</td>
<td>ErrorPayFreeBook</td>
<td>支付免费书籍</td>
</tr>
<tr>
<td>-2207</td>
<td>ErrorPayLimitFreeBook</td>
<td>限制免费书籍</td>
</tr>
<tr>
<td>-2208</td>
<td>ErrorPayNoBillno</td>
<td>无账单号</td>
</tr>
<tr>
<td>-2221</td>
<td>ErrorPayChaptersPaying</td>
<td>章节支付中</td>
</tr>
<tr>
<td>-2222</td>
<td>ErrorPayChapterIdsNull</td>
<td>章节ID为空</td>
</tr>
<tr>
<td>-2223</td>
<td>ErrorPayChapterAutoPayDisable</td>
<td>章节自动支付禁用</td>
</tr>
<tr>
<td>-2224</td>
<td>ErrorPayChapterFree</td>
<td>章节免费</td>
</tr>
<tr>
<td>-2225</td>
<td>ErrorPayChapterPriceEntireBook</td>
<td>章节价格为整本书</td>
</tr>
<tr>
<td>-2226</td>
<td>ErrorPayChapterPriceLack</td>
<td>章节价格不足</td>
</tr>
<tr>
<td>-2227</td>
<td>ErrorPayChaptersPartBoughtAlready</td>
<td>章节部分已购买</td>
</tr>
<tr>
<td>-2228</td>
<td>ErrorPayChaptersAllBoughtAlready</td>
<td>章节全部已购买</td>
</tr>
<tr>
<td>-2229</td>
<td>ErrorPayChaptersAutoPayClosed</td>
<td>章节自动支付关闭</td>
</tr>
<tr>
<td>-2281</td>
<td>ErrorPayPriceChanged</td>
<td>价格已变更</td>
</tr>
<tr>
<td>-2282</td>
<td>ErrorPayBookNumLimit</td>
<td>书籍数量限制</td>
</tr>
<tr>
<td>-2283</td>
<td>ErrorPayChargeNumLimit</td>
<td>充值数量限制</td>
</tr>
<tr>
<td>-2284</td>
<td>ErrorPaySoldOut</td>
<td>已售罄</td>
</tr>
<tr>
<td>-2285</td>
<td>ErrorPayDuplicated</td>
<td>重复支付</td>
</tr>
<tr>
<td>-2288</td>
<td>ErrorPayCollageCard</td>
<td>拼团卡错误</td>
</tr>
<tr>
<td>-2290</td>
<td>ErrorCouponUsed</td>
<td>优惠券已使用</td>
</tr>
<tr>
<td>-2298</td>
<td>ErrPayMoneyNotSendBook</td>
<td>付费未发书</td>
</tr>
<tr>
<td>-2299</td>
<td>ErrorPayUnknown</td>
<td>支付未知错误</td>
</tr>
</tbody>
</table>
<h2 id="书评相关错误码">书评相关错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2301</td>
<td>ErrorReviewUid</td>
<td>书评UID错误</td>
</tr>
<tr>
<td>-2302</td>
<td>ErrorReviewNotFound</td>
<td>书评不存在</td>
</tr>
<tr>
<td>-2303</td>
<td>ErrorReviewDeleted</td>
<td>书评已删除</td>
</tr>
<tr>
<td>-2304</td>
<td>ErrorReviewRefactorFail</td>
<td>书评重构失败</td>
</tr>
<tr>
<td>-2305</td>
<td>ErrorReviewFljBlock</td>
<td>书评被屏蔽</td>
</tr>
<tr>
<td>-2306</td>
<td>ErrorReviewTooLarge</td>
<td>书评过大</td>
</tr>
<tr>
<td>-2307</td>
<td>ErrorReviewInfoCorrupted</td>
<td>书评信息损坏</td>
</tr>
<tr>
<td>-2351</td>
<td>ErrorBookmarkUid</td>
<td>书签UID错误</td>
</tr>
<tr>
<td>-2352</td>
<td>ErrorBookmarkNotFound</td>
<td>书签不存在</td>
</tr>
</tbody>
</table>
<h2 id="网络相关错误码">网络相关错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2021</td>
<td>ErrorSQLTruncated</td>
<td>SQL截断</td>
</tr>
<tr>
<td>-2022</td>
<td>ErrorSQLExecFail</td>
<td>SQL执行失败</td>
</tr>
<tr>
<td>-2023</td>
<td>ErrorStrkvFail</td>
<td>字符串KV失败</td>
</tr>
<tr>
<td>-2025</td>
<td>ErrorStoreSvrFail</td>
<td>商店服务失败</td>
</tr>
<tr>
<td>-2028</td>
<td>ErrorKvFail</td>
<td>KV操作失败</td>
</tr>
<tr>
<td>-2029</td>
<td>ErrorOtherSvrFail</td>
<td>其他服务失败</td>
</tr>
<tr>
<td>-2500</td>
<td>ErrorRemoteFail</td>
<td>远程调用失败</td>
</tr>
<tr>
<td>-2539</td>
<td>ErrorXingeErr</td>
<td>信鸽推送错误</td>
</tr>
</tbody>
</table>
<h2 id="文件操作错误码">文件操作错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2501</td>
<td>ErrorDbOpErr</td>
<td>数据库操作错误</td>
</tr>
<tr>
<td>-2502</td>
<td>ErrorParseFail</td>
<td>解析失败</td>
</tr>
<tr>
<td>-2503</td>
<td>ErrorArgsMiss</td>
<td>参数缺失</td>
</tr>
<tr>
<td>-2504</td>
<td>ErrorTypeErr</td>
<td>类型错误</td>
</tr>
<tr>
<td>-2505</td>
<td>ErrorArgsErr</td>
<td>参数错误</td>
</tr>
<tr>
<td>-2506</td>
<td>ErrorHttpDownload</td>
<td>HTTP下载错误</td>
</tr>
<tr>
<td>-2507</td>
<td>ErrorFileNotExist</td>
<td>文件不存在</td>
</tr>
<tr>
<td>-2508</td>
<td>ErrorConvert</td>
<td>转换错误</td>
</tr>
<tr>
<td>-2509</td>
<td>ErrorDocNotObejct</td>
<td>文档非对象</td>
</tr>
<tr>
<td>-2510</td>
<td>ErrorOpenFile</td>
<td>打开文件错误</td>
</tr>
<tr>
<td>-2511</td>
<td>ErrorWriteFile</td>
<td>写文件错误</td>
</tr>
<tr>
<td>-2512</td>
<td>ErrorUnknownArgs</td>
<td>未知参数</td>
</tr>
<tr>
<td>-2513</td>
<td>ErrorLoadFile</td>
<td>加载文件错误</td>
</tr>
<tr>
<td>-2514</td>
<td>ErrorFileOutTime</td>
<td>文件超时</td>
</tr>
<tr>
<td>-2515</td>
<td>ErrorGetInfo</td>
<td>获取信息错误</td>
</tr>
<tr>
<td>-2516</td>
<td>ErrorNotLoadFile</td>
<td>未加载文件</td>
</tr>
<tr>
<td>-2517</td>
<td>ErrorNotArray</td>
<td>非数组类型</td>
</tr>
<tr>
<td>-2518</td>
<td>ErrorFileContent</td>
<td>文件内容错误</td>
</tr>
<tr>
<td>-2519</td>
<td>ErrorStatFileFail</td>
<td>文件状态失败</td>
</tr>
<tr>
<td>-2520</td>
<td>ErrorChapSzNotMatch</td>
<td>章节大小不匹配</td>
</tr>
<tr>
<td>-2521</td>
<td>ErrorDBNoUpdate</td>
<td>数据库无更新</td>
</tr>
<tr>
<td>-2522</td>
<td>ErrorUnknow</td>
<td>未知错误</td>
</tr>
<tr>
<td>-2523</td>
<td>ErrorkvTypeErr</td>
<td>KV类型错误</td>
</tr>
<tr>
<td>-2524</td>
<td>ErrorEpubDownloadErr</td>
<td>EPUB下载错误</td>
</tr>
<tr>
<td>-2525</td>
<td>ErrorParseCss</td>
<td>CSS解析错误</td>
</tr>
<tr>
<td>-2526</td>
<td>ErrorZipOp</td>
<td>ZIP操作错误</td>
</tr>
<tr>
<td>-2527</td>
<td>ErrorHTMLOP</td>
<td>HTML操作错误</td>
</tr>
<tr>
<td>-2528</td>
<td>ErrorParseXML</td>
<td>XML解析错误</td>
</tr>
<tr>
<td>-2529</td>
<td>ErrorPosTrans</td>
<td>位置转换错误</td>
</tr>
<tr>
<td>-2530</td>
<td>ErrorUidNotFound</td>
<td>UID未找到</td>
</tr>
<tr>
<td>-2532</td>
<td>ErrorSerilizeStr</td>
<td>序列化字符串错误</td>
</tr>
<tr>
<td>-2535</td>
<td>ErrorCheckLevel</td>
<td>检查级别错误</td>
</tr>
<tr>
<td>-2536</td>
<td>ErrorNoUpdate</td>
<td>无更新</td>
</tr>
<tr>
<td>-2537</td>
<td>ErrorSetColumnFail</td>
<td>设置列失败</td>
</tr>
<tr>
<td>-2540</td>
<td>ErrorPosConvertErr</td>
<td>位置转换错误</td>
</tr>
<tr>
<td>-2541</td>
<td>ErrorHTMLToTextErr</td>
<td>HTML转文本错误</td>
</tr>
<tr>
<td>-2542</td>
<td>ErrorGetAbstractErr</td>
<td>获取摘要错误</td>
</tr>
<tr>
<td>-2062</td>
<td>ErrorZipFail</td>
<td>ZIP失败</td>
</tr>
</tbody>
</table>
<h2 id="特殊功能错误码">特殊功能错误码</h2>
<table>
<thead>
<tr>
<th>错误码</th>
<th>常量名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-2015</td>
<td>ErrorPwd</td>
<td>密码错误</td>
</tr>
<tr>
<td>-2600</td>
<td>ErrorForgetSendMail</td>
<td>忘记发送邮件</td>
</tr>
<tr>
<td>-2601</td>
<td>ErrorCheckTokenFail</td>
<td>检查令牌失败</td>
</tr>
<tr>
<td>-2602</td>
<td>ErrorEmailFormat</td>
<td>邮件格式错误</td>
</tr>
<tr>
<td>-2603</td>
<td>ErrorEmail</td>
<td>邮件错误</td>
</tr>
<tr>
<td>-2650</td>
<td>ErrorInvalidAssistCount</td>
<td>无效助力次数</td>
</tr>
<tr>
<td>-2651</td>
<td>ErrorInvalidPromoBook</td>
<td>无效推广书籍</td>
</tr>
<tr>
<td>-2652</td>
<td>ErrorInvalidSelfAssist</td>
<td>无效自助</td>
</tr>
<tr>
<td>-2653</td>
<td>ErrorLimitCount</td>
<td>限制次数</td>
</tr>
<tr>
<td>-2654</td>
<td>ErrorGenerateGiftErr</td>
<td>生成礼品错误</td>
</tr>
<tr>
<td>-2655</td>
<td>ErrorSelfReceive</td>
<td>自己接收</td>
</tr>
<tr>
<td>-2656</td>
<td>ErrorActivityEnd</td>
<td>活动结束</td>
</tr>
<tr>
<td>-2657</td>
<td>ErrorGiftBagReceived</td>
<td>礼品袋已接收</td>
</tr>
<tr>
<td>-2666</td>
<td>ErrorLimitFreeNoQualified</td>
<td>限免无资格</td>
</tr>
<tr>
<td>-2700</td>
<td>ErrorMissImg</td>
<td>缺少图片</td>
</tr>
<tr>
<td>-2701</td>
<td>ErrorReject</td>
<td>拒绝</td>
</tr>
<tr>
<td>-2801</td>
<td>ErrorArticleLockOccupied</td>
<td>文章锁定被占用</td>
</tr>
<tr>
<td>-2809</td>
<td>ErrorArticleReleaseAgain</td>
<td>文章重复发布</td>
</tr>
<tr>
<td>-2810</td>
<td>ErrorArticleNoArticle</td>
<td>无文章</td>
</tr>
<tr>
<td>-2880</td>
<td>ErrorReadFundAlreadyObtained</td>
<td>阅读基金已获得</td>
</tr>
<tr>
<td>-2910</td>
<td>ErrorArticleQRScanLoginTimeOut</td>
<td>文章二维码扫描登录超时</td>
</tr>
<tr>
<td>-2924</td>
<td>ErrorTeenRestrict</td>
<td>青少年限制</td>
</tr>
<tr>
<td>-2958</td>
<td>ErrorMPArticleDeleted</td>
<td>公众号文章已删除</td>
</tr>
<tr>
<td>-2992</td>
<td>ErrorCollageExpired</td>
<td>拼团过期</td>
</tr>
</tbody>
</table>
<h1>认证与登录 API</h1>
<p>微信读书的认证和登录相关 API 接口，包括多种登录方式和二维码登录。</p>
<h2 id="刷新令牌登录">刷新令牌登录</h2>
<h3 id="POST-https-i-weread-qq-com-login-刷新令牌">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/login">https://i.weread.qq.com/login</a> (刷新令牌)</h3>
<p>使用刷新令牌进行登录，这是最常用的登录方式。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;refreshToken&quot;</span>: <span class="string">&quot;your_refresh_token&quot;</span>,</span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;wxToken&quot;</span>: <span class="literal">null</span>,                    <span class="comment">// 微信令牌，可选</span></span><br><span class="line">  <span class="string">&quot;inBackground&quot;</span>: <span class="number">0</span>,                  <span class="comment">// 是否后台登录</span></span><br><span class="line">  <span class="string">&quot;trackId&quot;</span>: <span class="string">&quot;track_id_here&quot;</span>,         <span class="comment">// 跟踪ID</span></span><br><span class="line">  <span class="string">&quot;kickType&quot;</span>: <span class="number">0</span>,                      <span class="comment">// 踢出类型</span></span><br><span class="line">  <span class="string">&quot;refCgi&quot;</span>: <span class="string">&quot;&quot;</span>,                       <span class="comment">// 引用CGI</span></span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,            <span class="comment">// 时间戳</span></span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,                    <span class="comment">// 随机数</span></span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,    <span class="comment">// 签名</span></span><br><span class="line">  <span class="string">&quot;virtualChannelId&quot;</span>: <span class="string">&quot;channel_id&quot;</span>,   <span class="comment">// 虚拟渠道ID</span></span><br><span class="line">  <span class="string">&quot;deviceName&quot;</span>: <span class="string">&quot;device_name&quot;</span>         <span class="comment">// 设备名称</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;vid&quot;</span>: <span class="number">12345</span>,</span><br><span class="line">    <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey_here&quot;</span>,</span><br><span class="line">    <span class="string">&quot;accessToken&quot;</span>: <span class="string">&quot;access_token_here&quot;</span>,</span><br><span class="line">    <span class="string">&quot;refreshToken&quot;</span>: <span class="string">&quot;new_refresh_token&quot;</span>,</span><br><span class="line">    <span class="string">&quot;user&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;用户昵称&quot;</span>,</span><br><span class="line">      <span class="string">&quot;avatar&quot;</span>: <span class="string">&quot;头像URL&quot;</span>,</span><br><span class="line">      <span class="string">&quot;gender&quot;</span>: <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;expireTime&quot;</span>: <span class="number">1641599999</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="微信登录">微信登录</h2>
<h3 id="POST-https-i-weread-qq-com-login-微信登录">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/login">https://i.weread.qq.com/login</a> (微信登录)</h3>
<p>使用微信授权码进行登录。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;code&quot;</span>: <span class="string">&quot;wx_auth_code&quot;</span>,             <span class="comment">// 微信授权码</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;trackId&quot;</span>: <span class="string">&quot;track_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,</span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,</span><br><span class="line">  <span class="string">&quot;wxToken&quot;</span>: <span class="number">1</span>,                       <span class="comment">// 微信令牌标识</span></span><br><span class="line">  <span class="string">&quot;appFirstInstall&quot;</span>: <span class="number">0</span>,               <span class="comment">// 是否首次安装</span></span><br><span class="line">  <span class="string">&quot;virtualChannelId&quot;</span>: <span class="string">&quot;channel_id&quot;</span>,</span><br><span class="line">  <span class="string">&quot;installId&quot;</span>: <span class="string">&quot;install_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;isFromQrcode&quot;</span>: <span class="number">0</span>,                  <span class="comment">// 是否来自二维码</span></span><br><span class="line">  <span class="string">&quot;isAutoLogout&quot;</span>: <span class="number">0</span>,                  <span class="comment">// 是否自动登出</span></span><br><span class="line">  <span class="string">&quot;deviceName&quot;</span>: <span class="string">&quot;device_name&quot;</span>,</span><br><span class="line">  <span class="string">&quot;deviceType&quot;</span>: <span class="number">1</span>                     <span class="comment">// 设备类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="访客登录">访客登录</h2>
<h3 id="POST-https-i-weread-qq-com-guestLogin">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/guestLogin">https://i.weread.qq.com/guestLogin</a></h3>
<p>创建访客账户。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;newDeviceId&quot;</span>: <span class="literal">null</span>,                <span class="comment">// 新设备ID，可选</span></span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,</span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,</span><br><span class="line">  <span class="string">&quot;appFirstInstall&quot;</span>: <span class="number">1</span>,               <span class="comment">// 首次安装标识</span></span><br><span class="line">  <span class="string">&quot;virtualChannelId&quot;</span>: <span class="string">&quot;channel_id&quot;</span>,</span><br><span class="line">  <span class="string">&quot;installId&quot;</span>: <span class="string">&quot;install_id_here&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="POST-https-i-weread-qq-com-login-访客转正式登录">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/login">https://i.weread.qq.com/login</a> (访客转正式登录)</h3>
<p>将访客账户转换为正式账户。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;code&quot;</span>: <span class="string">&quot;auth_code&quot;</span>,</span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;trackId&quot;</span>: <span class="string">&quot;track_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;guestVid&quot;</span>: <span class="number">12345</span>,                  <span class="comment">// 访客VID</span></span><br><span class="line">  <span class="string">&quot;guestAccessToken&quot;</span>: <span class="string">&quot;guest_token&quot;</span>,  <span class="comment">// 访客访问令牌</span></span><br><span class="line">  <span class="string">&quot;pf&quot;</span>: <span class="string">&quot;platform_identifier&quot;</span>,       <span class="comment">// 平台标识</span></span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,</span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,</span><br><span class="line">  <span class="string">&quot;appFirstInstall&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;virtualChannelId&quot;</span>: <span class="string">&quot;channel_id&quot;</span>,</span><br><span class="line">  <span class="string">&quot;installId&quot;</span>: <span class="string">&quot;install_id_here&quot;</span>,</span><br><span class="line">  <span class="string">&quot;isFromQrcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;isAutoLogout&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;deviceName&quot;</span>: <span class="string">&quot;device_name&quot;</span>,</span><br><span class="line">  <span class="string">&quot;deviceType&quot;</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="二维码登录">二维码登录</h2>
<h3 id="POST-https-i-weread-qq-com-web-qrlogin">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/web/qrlogin">https://i.weread.qq.com/web/qrlogin</a></h3>
<p>使用二维码进行网页登录。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;uid&quot;</span>: <span class="string">&quot;qr_uid_here&quot;</span>,      <span class="comment">// 二维码UID</span></span><br><span class="line">  <span class="string">&quot;url&quot;</span>: <span class="string">&quot;callback_url&quot;</span>,     <span class="comment">// 回调URL</span></span><br><span class="line">  <span class="string">&quot;pf&quot;</span>: <span class="number">1</span>                    <span class="comment">// 平台标识</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;qrCode&quot;</span>: <span class="string">&quot;https://weread.qq.com/qr/abc123&quot;</span>,</span><br><span class="line">    <span class="string">&quot;qrCodeId&quot;</span>: <span class="string">&quot;abc123&quot;</span>,</span><br><span class="line">    <span class="string">&quot;expireTime&quot;</span>: <span class="number">300</span>,  <span class="comment">// 过期时间（秒）</span></span><br><span class="line">    <span class="string">&quot;status&quot;</span>: <span class="string">&quot;waiting&quot;</span> <span class="comment">// waiting, scanned, confirmed, expired</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="微信票据相关">微信票据相关</h2>
<h3 id="GET-wx-jsapiticket">GET /wx/jsapiticket</h3>
<p>获取微信 JS API 票据。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;user_vid_here&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="GET-wxticket">GET /wxticket</h3>
<p>获取微信票据。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;nonceStr&quot;</span>: <span class="string">&quot;random_nonce_string&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="设备登出">设备登出</h2>
<h3 id="POST-https-i-weread-qq-com-device-logout">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/device/logout">https://i.weread.qq.com/device/logout</a></h3>
<p>登出指定设备，结束设备会话。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_here&quot;</span>,        <span class="comment">// 设备ID</span></span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,             <span class="comment">// 时间戳</span></span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,                     <span class="comment">// 随机数</span></span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>      <span class="comment">// 签名</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;errmsg&quot;</span>: <span class="string">&quot;success&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>应用服务 API</h1>
<p>微信读书应用服务相关的 API 接口，包括日志报告、数据同步、知识检索等功能。</p>
<h2 id="日志报告-API">日志报告 API</h2>
<h3 id="POST-https-i-weread-qq-com-logReport">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/logReport">https://i.weread.qq.com/logReport</a></h3>
<p>用于上报各种日志数据，支持多种数据格式。</p>
<h4 id="方式一：字符串数据报告">方式一：字符串数据报告</h4>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: <span class="string">&quot;log_data_string&quot;</span>  <span class="comment">// 日志数据字符串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;success&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="方式二：对象数据报告">方式二：对象数据报告</h4>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;action&quot;</span>: <span class="string">&quot;page_view&quot;</span>,</span><br><span class="line">    <span class="string">&quot;page&quot;</span>: <span class="string">&quot;book_detail&quot;</span>,</span><br><span class="line">    <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;duration&quot;</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="string">&quot;userAgent&quot;</span>: <span class="string">&quot;WeRead/7.0.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="方式三：离线数据报告">方式三：离线数据报告</h4>
<p>用于离线状态下的数据上报。</p>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span>,</span><br><span class="line">  <span class="string">&quot;offline&quot;</span>: <span class="string">&quot;1&quot;</span>  <span class="comment">// 离线标识</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="移动同步-API">移动同步 API</h2>
<h3 id="POST-https-i-weread-qq-com-mobileSync">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/mobileSync">https://i.weread.qq.com/mobileSync</a></h3>
<p>同步移动端的各种数据，包括书架、通知、配置等。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;shelf&quot;</span>: <span class="number">123456789</span>,                    <span class="comment">// 书架同步键</span></span><br><span class="line">  <span class="string">&quot;inventory&quot;</span>: <span class="number">123456789</span>,                <span class="comment">// 库存同步键</span></span><br><span class="line">  <span class="string">&quot;shelfLecture&quot;</span>: <span class="number">123456789</span>,             <span class="comment">// 书架讲座同步键</span></span><br><span class="line">  <span class="string">&quot;notifications&quot;</span>: <span class="number">123456789</span>,            <span class="comment">// 通知同步键</span></span><br><span class="line">  <span class="string">&quot;config&quot;</span>: <span class="number">123456789</span>,                   <span class="comment">// 配置同步键</span></span><br><span class="line">  <span class="string">&quot;gift&quot;</span>: <span class="number">123456789</span>,                     <span class="comment">// 礼品同步键</span></span><br><span class="line">  <span class="string">&quot;payItem&quot;</span>: <span class="number">123456789</span>,                  <span class="comment">// 付费项目同步键</span></span><br><span class="line">  <span class="string">&quot;balance&quot;</span>: <span class="number">100.50</span>,                     <span class="comment">// 余额</span></span><br><span class="line">  <span class="string">&quot;reviewTimeline&quot;</span>: <span class="number">123456789</span>,           <span class="comment">// 书评时间线同步键</span></span><br><span class="line">  <span class="string">&quot;follower&quot;</span>: <span class="number">123456789</span>,                 <span class="comment">// 粉丝同步键</span></span><br><span class="line">  <span class="string">&quot;readingExchange&quot;</span>: <span class="number">1</span>,                  <span class="comment">// 阅读兑换</span></span><br><span class="line">  <span class="string">&quot;chat&quot;</span>: <span class="number">123456789</span>,                     <span class="comment">// 聊天同步键</span></span><br><span class="line">  <span class="string">&quot;chatRemovedSynckey&quot;</span>: <span class="number">123456789</span>,       <span class="comment">// 聊天删除同步键</span></span><br><span class="line">  <span class="string">&quot;wechatFriend&quot;</span>: <span class="number">123456789</span>,             <span class="comment">// 微信好友同步键</span></span><br><span class="line">  <span class="string">&quot;inBackground&quot;</span>: <span class="number">0</span>,                     <span class="comment">// 后台状态</span></span><br><span class="line">  <span class="string">&quot;refluxSynckey&quot;</span>: <span class="number">123456789</span>,            <span class="comment">// 回流同步键</span></span><br><span class="line">  <span class="string">&quot;following&quot;</span>: <span class="number">123456789</span>,                <span class="comment">// 关注同步键</span></span><br><span class="line">  <span class="string">&quot;applyList&quot;</span>: <span class="number">123456789</span>,                <span class="comment">// 申请列表同步键</span></span><br><span class="line">  <span class="string">&quot;mcard&quot;</span>: <span class="number">123456789</span>,                    <span class="comment">// 会员卡同步键</span></span><br><span class="line">  <span class="string">&quot;discoverFeedSynckey&quot;</span>: <span class="number">123456789</span>,      <span class="comment">// 发现信息流同步键</span></span><br><span class="line">  <span class="string">&quot;rateSynckey&quot;</span>: <span class="number">123456789</span>,              <span class="comment">// 评分同步键</span></span><br><span class="line">  <span class="string">&quot;browse&quot;</span>: <span class="number">123456789</span>,                   <span class="comment">// 浏览同步键</span></span><br><span class="line">  <span class="string">&quot;medal&quot;</span>: <span class="number">123456789</span>,                    <span class="comment">// 勋章同步键</span></span><br><span class="line">  <span class="string">&quot;medalUrl&quot;</span>: <span class="number">123456789</span>,                 <span class="comment">// 勋章URL同步键</span></span><br><span class="line">  <span class="string">&quot;regionResource&quot;</span>: <span class="number">123456789</span>,           <span class="comment">// 地区资源同步键</span></span><br><span class="line">  <span class="string">&quot;discoverColumnSynckey&quot;</span>: <span class="number">123456789</span>,    <span class="comment">// 发现栏目同步键</span></span><br><span class="line">  <span class="string">&quot;friendReviewSynckey&quot;</span>: <span class="number">123456789</span>,      <span class="comment">// 好友书评同步键</span></span><br><span class="line">  <span class="string">&quot;wehearSyncKey&quot;</span>: <span class="number">123456789</span>,            <span class="comment">// WeHear同步键</span></span><br><span class="line">  <span class="string">&quot;preferTab&quot;</span>: <span class="number">1</span>,                        <span class="comment">// 偏好标签</span></span><br><span class="line">  <span class="string">&quot;localBrowseTab&quot;</span>: <span class="string">&quot;recommend&quot;</span>,         <span class="comment">// 本地浏览标签</span></span><br><span class="line">  <span class="string">&quot;localCommunityTab&quot;</span>: <span class="string">&quot;following&quot;</span>       <span class="comment">// 本地社区标签</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;shelf&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;synckey&quot;</span>: <span class="number">123456790</span>,</span><br><span class="line">      <span class="string">&quot;books&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">          <span class="string">&quot;title&quot;</span>: <span class="string">&quot;书名&quot;</span>,</span><br><span class="line">          <span class="string">&quot;author&quot;</span>: <span class="string">&quot;作者&quot;</span>,</span><br><span class="line">          <span class="string">&quot;progress&quot;</span>: <span class="number">0.5</span>,</span><br><span class="line">          <span class="string">&quot;updateTime&quot;</span>: <span class="number">1640995200</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;notifications&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;synckey&quot;</span>: <span class="number">123456790</span>,</span><br><span class="line">      <span class="string">&quot;items&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">&quot;id&quot;</span>: <span class="string">&quot;notif_1&quot;</span>,</span><br><span class="line">          <span class="string">&quot;type&quot;</span>: <span class="string">&quot;system&quot;</span>,</span><br><span class="line">          <span class="string">&quot;title&quot;</span>: <span class="string">&quot;系统通知&quot;</span>,</span><br><span class="line">          <span class="string">&quot;content&quot;</span>: <span class="string">&quot;通知内容&quot;</span>,</span><br><span class="line">          <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;config&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;synckey&quot;</span>: <span class="number">123456790</span>,</span><br><span class="line">      <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;theme&quot;</span>: <span class="string">&quot;light&quot;</span>,</span><br><span class="line">        <span class="string">&quot;fontSize&quot;</span>: <span class="number">16</span>,</span><br><span class="line">        <span class="string">&quot;autoSync&quot;</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="知识检索-API">知识检索 API</h2>
<h3 id="POST-https-i-weread-qq-com-knowledge-retrieval">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/knowledge/retrieval">https://i.weread.qq.com/knowledge/retrieval</a></h3>
<p>在指定书籍中检索知识内容。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,              <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;query&quot;</span>: <span class="string">&quot;search_query&quot;</span>,               <span class="comment">// 搜索查询</span></span><br><span class="line">  <span class="string">&quot;scene&quot;</span>: <span class="number">1</span>,                            <span class="comment">// 场景ID</span></span><br><span class="line">  <span class="string">&quot;v&quot;</span>: <span class="number">1</span>,                                <span class="comment">// 版本</span></span><br><span class="line">  <span class="string">&quot;queryContext&quot;</span>: &#123;                      <span class="comment">// 查询上下文（可选）</span></span><br><span class="line">    <span class="string">&quot;chapterId&quot;</span>: <span class="string">&quot;chapter_1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pageNumber&quot;</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="string">&quot;previousQuery&quot;</span>: <span class="string">&quot;previous_search&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;results&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;chapterId&quot;</span>: <span class="string">&quot;chapter_1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;chapterTitle&quot;</span>: <span class="string">&quot;第一章&quot;</span>,</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: <span class="string">&quot;匹配的内容片段...&quot;</span>,</span><br><span class="line">        <span class="string">&quot;pageNumber&quot;</span>: <span class="number">15</span>,</span><br><span class="line">        <span class="string">&quot;relevanceScore&quot;</span>: <span class="number">0.95</span>,</span><br><span class="line">        <span class="string">&quot;highlights&quot;</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">&quot;start&quot;</span>: <span class="number">10</span>,</span><br><span class="line">            <span class="string">&quot;end&quot;</span>: <span class="number">20</span>,</span><br><span class="line">            <span class="string">&quot;text&quot;</span>: <span class="string">&quot;关键词&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;totalCount&quot;</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="string">&quot;queryTime&quot;</span>: <span class="number">150</span>,</span><br><span class="line">    <span class="string">&quot;suggestions&quot;</span>: [<span class="string">&quot;相关搜索1&quot;</span>, <span class="string">&quot;相关搜索2&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="在线时间统计">在线时间统计</h2>
<h3 id="POST-https-i-weread-qq-com-app-onlinetime">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/app/onlinetime">https://i.weread.qq.com/app/onlinetime</a></h3>
<p>报告用户的在线时间。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;time&quot;</span>: <span class="number">300</span>  <span class="comment">// 在线时间（秒）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="推送配置-API">推送配置 API</h2>
<h3 id="绑定推送令牌">绑定推送令牌</h3>
<h4 id="POST-https-i-weread-qq-com-updateConfig">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/updateConfig">https://i.weread.qq.com/updateConfig</a></h4>
<p>绑定设备的推送令牌。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;deviceToken&quot;</span>: <span class="string">&quot;device_token_string&quot;</span>,    <span class="comment">// 设备令牌</span></span><br><span class="line">  <span class="string">&quot;bundleId&quot;</span>: <span class="string">&quot;com.tencent.weread&quot;</span>,        <span class="comment">// 应用包ID</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_string&quot;</span>           <span class="comment">// 设备ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="开启推送令牌">开启推送令牌</h3>
<h4 id="POST-https-i-weread-qq-com-updateConfig-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/updateConfig">https://i.weread.qq.com/updateConfig</a></h4>
<p>开启设备的推送功能。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;openDeviceToken&quot;</span>: <span class="string">&quot;device_token_string&quot;</span>, <span class="comment">// 开启设备令牌</span></span><br><span class="line">  <span class="string">&quot;bundleId&quot;</span>: <span class="string">&quot;com.tencent.weread&quot;</span>,         <span class="comment">// 应用包ID</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_string&quot;</span>            <span class="comment">// 设备ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="关闭推送令牌">关闭推送令牌</h3>
<h4 id="POST-https-i-weread-qq-com-updateConfig-3">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/updateConfig">https://i.weread.qq.com/updateConfig</a></h4>
<p>关闭设备的推送功能。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;closeDeviceToken&quot;</span>: <span class="string">&quot;device_token_string&quot;</span>, <span class="comment">// 关闭设备令牌</span></span><br><span class="line">  <span class="string">&quot;bundleId&quot;</span>: <span class="string">&quot;com.tencent.weread&quot;</span>,          <span class="comment">// 应用包ID</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_string&quot;</span>             <span class="comment">// 设备ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="解绑推送令牌">解绑推送令牌</h3>
<h4 id="POST-https-i-weread-qq-com-updateConfig-4">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/updateConfig">https://i.weread.qq.com/updateConfig</a></h4>
<p>解绑设备的推送令牌。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;disDeviceToken&quot;</span>: <span class="string">&quot;device_token_string&quot;</span>,  <span class="comment">// 解绑设备令牌</span></span><br><span class="line">  <span class="string">&quot;bundleId&quot;</span>: <span class="string">&quot;com.tencent.weread&quot;</span>,         <span class="comment">// 应用包ID</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_string&quot;</span>            <span class="comment">// 设备ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="解绑Hub令牌">解绑Hub令牌</h3>
<h4 id="POST-https-i-weread-qq-com-updateConfig-5">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/updateConfig">https://i.weread.qq.com/updateConfig</a></h4>
<p>解绑Hub推送令牌。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;disHubToken&quot;</span>: <span class="number">123456789</span>,            <span class="comment">// 解绑Hub令牌</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_string&quot;</span>       <span class="comment">// 设备ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="上传新Gap令牌">上传新Gap令牌</h3>
<h4 id="POST-https-i-weread-qq-com-updateConfig-6">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/updateConfig">https://i.weread.qq.com/updateConfig</a></h4>
<p>上传新的Gap推送令牌。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;gapToken&quot;</span>: <span class="number">123456789</span>,               <span class="comment">// Gap令牌</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_string&quot;</span>       <span class="comment">// 设备ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="报告服务-API">报告服务 API</h2>
<h3 id="上报数据到OSS">上报数据到OSS</h3>
<h4 id="POST-https-oss-weread-qq-com-wrbus-report-oss">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://oss.weread.qq.com/wrbus/report/oss">https://oss.weread.qq.com/wrbus/report/oss</a></h4>
<p>向OSS（对象存储服务）上报数据。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;content&quot;</span>: <span class="string">&quot;report_content_string&quot;</span>    <span class="comment">// 报告内容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;success&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;reportId&quot;</span>: <span class="string">&quot;report_123456&quot;</span>,</span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200000</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="应用日志报告">应用日志报告</h3>
<h4 id="POST-https-i-weread-qq-com-logReport-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/logReport">https://i.weread.qq.com/logReport</a></h4>
<p>向服务器报告应用日志数据。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_123456&quot;</span>,         <span class="comment">// 设备ID</span></span><br><span class="line">  <span class="string">&quot;reportMethod&quot;</span>: <span class="number">1</span>,                   <span class="comment">// 报告方法</span></span><br><span class="line">  <span class="string">&quot;os&quot;</span>: <span class="string">&quot;Android&quot;</span>,                     <span class="comment">// 操作系统</span></span><br><span class="line">  <span class="string">&quot;appver&quot;</span>: <span class="string">&quot;7.0.0&quot;</span>,                   <span class="comment">// 应用版本</span></span><br><span class="line">  <span class="string">&quot;data&quot;</span>: <span class="string">&quot;log_data_string&quot;</span>,           <span class="comment">// 日志数据</span></span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;user_789012&quot;</span>,                <span class="comment">// 用户VID</span></span><br><span class="line">  <span class="string">&quot;model&quot;</span>: <span class="string">&quot;Huawei P40&quot;</span>                <span class="comment">// 设备型号</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;success&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;reportId&quot;</span>: <span class="string">&quot;log_report_123456&quot;</span>,</span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">  <span class="string">&quot;processed&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="日志报告工具类">日志报告工具类</h3>
<h2 id="OSS-服务-API">OSS 服务 API</h2>
<h3 id="OSS-日志上传">OSS 日志上传</h3>
<h4 id="POST-https-i-weread-qq-com-cgi-bin-oss-log">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/cgi-bin/oss_log">https://i.weread.qq.com/cgi-bin/oss_log</a></h4>
<p>向 OSS（对象存储服务）上传日志数据。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;inputf&quot;</span>: <span class="string">&quot;log_format&quot;</span>,              <span class="comment">// 输入格式</span></span><br><span class="line">  <span class="string">&quot;func&quot;</span>: <span class="string">&quot;upload_function&quot;</span>            <span class="comment">// 上传功能</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求体参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;baseinfo&quot;</span>: &#123;                        <span class="comment">// 基础信息</span></span><br><span class="line">    <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;appVersion&quot;</span>: <span class="string">&quot;7.0.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;osVersion&quot;</span>: <span class="string">&quot;Android 11&quot;</span>,</span><br><span class="line">    <span class="string">&quot;deviceModel&quot;</span>: <span class="string">&quot;Huawei P40&quot;</span>,</span><br><span class="line">    <span class="string">&quot;userId&quot;</span>: <span class="string">&quot;user_789012&quot;</span>,</span><br><span class="line">    <span class="string">&quot;sessionId&quot;</span>: <span class="string">&quot;session_345678&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">    <span class="string">&quot;timezone&quot;</span>: <span class="string">&quot;Asia/Shanghai&quot;</span>,</span><br><span class="line">    <span class="string">&quot;networkType&quot;</span>: <span class="string">&quot;wifi&quot;</span>,</span><br><span class="line">    <span class="string">&quot;batteryLevel&quot;</span>: <span class="number">85</span>,</span><br><span class="line">    <span class="string">&quot;memoryUsage&quot;</span>: <span class="number">512</span>,</span><br><span class="line">    <span class="string">&quot;storageUsage&quot;</span>: <span class="number">1024</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;logsize&quot;</span>: <span class="number">2048</span>,                     <span class="comment">// 日志大小（字节）</span></span><br><span class="line">  <span class="string">&quot;logcontent&quot;</span>: <span class="string">&quot;compressed_log_data&quot;</span>  <span class="comment">// 压缩后的日志内容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;uploadId&quot;</span>: <span class="string">&quot;upload_123456789&quot;</span>,</span><br><span class="line">    <span class="string">&quot;ossUrl&quot;</span>: <span class="string">&quot;https://oss.weread.qq.com/logs/upload_123456789.log&quot;</span>,</span><br><span class="line">    <span class="string">&quot;uploadTime&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">    <span class="string">&quot;fileSize&quot;</span>: <span class="number">2048</span>,</span><br><span class="line">    <span class="string">&quot;checksum&quot;</span>: <span class="string">&quot;md5_hash_string&quot;</span>,</span><br><span class="line">    <span class="string">&quot;status&quot;</span>: <span class="string">&quot;uploaded&quot;</span>,</span><br><span class="line">    <span class="string">&quot;retention&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;days&quot;</span>: <span class="number">30</span>,</span><br><span class="line">      <span class="string">&quot;deleteTime&quot;</span>: <span class="number">1643587200000</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>AI 聊天 API</h1>
<p>微信读书的 AI 聊天功能相关 API 接口。</p>
<h2 id="获取-AI-HTML">获取 AI HTML</h2>
<h3 id="POST-https-i-weread-qq-com-ai-wink-proxy">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/ai/wink/proxy">https://i.weread.qq.com/ai/wink/proxy</a></h3>
<p>获取 AI 聊天的 HTML 内容，这是一个代理接口，用于获取 AI 聊天界面。</p>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// 具体参数需要根据实际需求传递</span></span><br><span class="line">  <span class="comment">// 可能包括聊天上下文、用户偏好等</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;html&quot;</span>: <span class="string">&quot;&lt;div class=&#x27;ai-chat-container&#x27;&gt;...&lt;/div&gt;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;css&quot;</span>: <span class="string">&quot;.ai-chat-container &#123; ... &#125;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;js&quot;</span>: <span class="string">&quot;function initAiChat() &#123; ... &#125;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;config&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;apiEndpoint&quot;</span>: <span class="string">&quot;https://ai.weread.qq.com/chat&quot;</span>,</span><br><span class="line">      <span class="string">&quot;wsEndpoint&quot;</span>: <span class="string">&quot;wss://ai.weread.qq.com/ws&quot;</span>,</span><br><span class="line">      <span class="string">&quot;features&quot;</span>: [<span class="string">&quot;text&quot;</span>, <span class="string">&quot;voice&quot;</span>, <span class="string">&quot;image&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>书籍 API</h1>
<p>书籍相关的 API 接口，包括阅读状态管理、章节操作等。</p>
<h2 id="标记阅读状态">标记阅读状态</h2>
<h3 id="POST-https-i-weread-qq-com-book-markstatus">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/markstatus">https://i.weread.qq.com/book/markstatus</a></h3>
<p>标记书籍的阅读状态，支持在读、读过、读完等状态。</p>
<p><strong>阅读状态枚举:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">ReadingStatus</span> = &#123;</span><br><span class="line">  <span class="attr">READING</span>: <span class="number">2</span>,   <span class="comment">// 在读</span></span><br><span class="line">  <span class="attr">READED</span>: <span class="number">3</span>,    <span class="comment">// 读过</span></span><br><span class="line">  <span class="attr">FINISHED</span>: <span class="number">4</span>   <span class="comment">// 读完</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;status&quot;</span>: <span class="number">2</span>,           <span class="comment">// 阅读状态 (ReadingStatus)</span></span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id&quot;</span>,   <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;isCancel&quot;</span>: <span class="number">0</span>,         <span class="comment">// 是否取消标记 (0: 标记, 1: 取消)</span></span><br><span class="line">  <span class="string">&quot;finishInfo&quot;</span>: <span class="number">0</span>        <span class="comment">// 完成信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;v&quot;</span>: <span class="string">&quot;7.4.2.23&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;errmsg&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id&quot;</span>,</span><br><span class="line">    <span class="string">&quot;status&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&quot;updateTime&quot;</span>: <span class="number">1640995200</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取章节信息">获取章节信息</h2>
<h3 id="POST-https-i-weread-qq-com-book-chapterInfos">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/chapterInfos">https://i.weread.qq.com/book/chapterInfos</a></h3>
<p>获取指定书籍的章节信息列表。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookIds&quot;</span>: [<span class="string">&quot;book_id1&quot;</span>, <span class="string">&quot;book_id2&quot;</span>],  <span class="comment">// 书籍ID数组</span></span><br><span class="line">  <span class="string">&quot;synckeys&quot;</span>: [<span class="number">0</span>, <span class="number">0</span>]                    <span class="comment">// 同步键数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;v&quot;</span>: <span class="string">&quot;7.4.2.23&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;book_id&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;chapters&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="string">&quot;title&quot;</span>: <span class="string">&quot;第一章&quot;</span>,</span><br><span class="line">          <span class="string">&quot;level&quot;</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="string">&quot;wordCount&quot;</span>: <span class="number">2500</span>,</span><br><span class="line">          <span class="string">&quot;readingTime&quot;</span>: <span class="number">300</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">&quot;chapterUid&quot;</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="string">&quot;title&quot;</span>: <span class="string">&quot;第二章&quot;</span>,</span><br><span class="line">          <span class="string">&quot;level&quot;</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="string">&quot;wordCount&quot;</span>: <span class="number">3000</span>,</span><br><span class="line">          <span class="string">&quot;readingTime&quot;</span>: <span class="number">360</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">&quot;synckey&quot;</span>: <span class="number">123456789</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="下载章节内容">下载章节内容</h2>
<h3 id="GET-book-chapterdownload">GET /book/chapterdownload</h3>
<p>下载书籍章节的具体内容。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;3300071749&quot;</span>,           <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;bookType&quot;</span>: <span class="string">&quot;epub&quot;</span>,               <span class="comment">// 书籍类型</span></span><br><span class="line">  <span class="string">&quot;bookVersion&quot;</span>: <span class="string">&quot;462704133&quot;</span>,       <span class="comment">// 书籍版本</span></span><br><span class="line">  <span class="string">&quot;chapters&quot;</span>: <span class="string">&quot;311-320&quot;</span>,            <span class="comment">// 章节范围</span></span><br><span class="line">  <span class="string">&quot;modernVersion&quot;</span>: <span class="string">&quot;7.4.2.23&quot;</span>,     <span class="comment">// 现代版本</span></span><br><span class="line">  <span class="string">&quot;offline&quot;</span>: <span class="number">1</span>,                     <span class="comment">// 离线标识</span></span><br><span class="line">  <span class="string">&quot;pf&quot;</span>: <span class="string">&quot;weread_wx-2001-iap-2001-iphone&quot;</span>,  <span class="comment">// 平台标识</span></span><br><span class="line">  <span class="string">&quot;pfkey&quot;</span>: <span class="string">&quot;pfkey&quot;</span>,                 <span class="comment">// 平台密钥</span></span><br><span class="line">  <span class="string">&quot;release&quot;</span>: <span class="number">1</span>,                     <span class="comment">// 发布标识</span></span><br><span class="line">  <span class="string">&quot;screenSize&quot;</span>: <span class="string">&quot;16x9&quot;</span>,             <span class="comment">// 屏幕尺寸</span></span><br><span class="line">  <span class="string">&quot;synckey&quot;</span>: <span class="string">&quot;462704133&quot;</span>,           <span class="comment">// 同步键</span></span><br><span class="line">  <span class="string">&quot;zoneId&quot;</span>: <span class="number">1</span>                       <span class="comment">// 区域ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="黑名单管理">黑名单管理</h2>
<h3 id="拉黑-取消拉黑书籍">拉黑/取消拉黑书籍</h3>
<h4 id="GET-blacklist-books">GET /blacklist/books</h4>
<p>将书籍加入黑名单或从黑名单移除。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,        <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="number">12345</span>,                    <span class="comment">// 用户VID</span></span><br><span class="line">  <span class="string">&quot;cancelBlack&quot;</span>: <span class="number">0</span>                 <span class="comment">// 0: 拉黑, 1: 取消拉黑</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;success&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>书籍详情与报告 API</h1>
<p>微信读书书籍详情和阅读报告相关的 API 接口，包括播客、分享图片、阅读进度报告等功能。</p>
<h2 id="书籍详情-API">书籍详情 API</h2>
<h3 id="加载书籍播客">加载书籍播客</h3>
<h4 id="GET-book-podcasts">GET /book/podcasts</h4>
<p>获取书籍相关的播客内容列表。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,        <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;synckey&quot;</span>: <span class="number">123456789</span>,            <span class="comment">// 同步键</span></span><br><span class="line">  <span class="string">&quot;count&quot;</span>: <span class="number">20</span>,                     <span class="comment">// 返回数量</span></span><br><span class="line">  <span class="string">&quot;listType&quot;</span>: <span class="number">1</span>,                   <span class="comment">// 列表类型</span></span><br><span class="line">  <span class="string">&quot;reviewListType&quot;</span>: <span class="number">1</span>              <span class="comment">// 书评列表类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;podcasts&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="string">&quot;podcast_1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;第一章解读&quot;</span>,</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;深度解读第一章内容&quot;</span>,</span><br><span class="line">        <span class="string">&quot;duration&quot;</span>: <span class="number">1800</span>,           <span class="comment">// 时长（秒）</span></span><br><span class="line">        <span class="string">&quot;audioUrl&quot;</span>: <span class="string">&quot;https://example.com/audio1.mp3&quot;</span>,</span><br><span class="line">        <span class="string">&quot;coverUrl&quot;</span>: <span class="string">&quot;https://example.com/cover1.jpg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;author&quot;</span>: <span class="string">&quot;解读者姓名&quot;</span>,</span><br><span class="line">        <span class="string">&quot;publishTime&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">        <span class="string">&quot;playCount&quot;</span>: <span class="number">1000</span>,</span><br><span class="line">        <span class="string">&quot;likeCount&quot;</span>: <span class="number">50</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;synckey&quot;</span>: <span class="number">123456790</span>,</span><br><span class="line">    <span class="string">&quot;hasMore&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;totalCount&quot;</span>: <span class="number">100</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="生成分享图片">生成分享图片</h3>
<h4 id="POST-https-weread-qq-com-shareimage-generate">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://weread.qq.com/shareimage/generate">https://weread.qq.com/shareimage/generate</a></h4>
<p>生成书籍分享用的图片。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;templateId&quot;</span>: <span class="string">&quot;template_id_here&quot;</span>,    <span class="comment">// 模板ID</span></span><br><span class="line">  <span class="string">&quot;cacheKey&quot;</span>: <span class="string">&quot;cache_key_here&quot;</span>,        <span class="comment">// 缓存键</span></span><br><span class="line">  <span class="string">&quot;replacements&quot;</span>: &#123;                    <span class="comment">// 替换内容</span></span><br><span class="line">    <span class="string">&quot;bookTitle&quot;</span>: <span class="string">&quot;书籍标题&quot;</span>,</span><br><span class="line">    <span class="string">&quot;bookAuthor&quot;</span>: <span class="string">&quot;作者姓名&quot;</span>,</span><br><span class="line">    <span class="string">&quot;bookCover&quot;</span>: <span class="string">&quot;封面URL&quot;</span>,</span><br><span class="line">    <span class="string">&quot;userAvatar&quot;</span>: <span class="string">&quot;用户头像URL&quot;</span>,</span><br><span class="line">    <span class="string">&quot;userName&quot;</span>: <span class="string">&quot;用户昵称&quot;</span>,</span><br><span class="line">    <span class="string">&quot;readingProgress&quot;</span>: <span class="string">&quot;已读 50%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;readingTime&quot;</span>: <span class="string">&quot;阅读时长 2小时&quot;</span>,</span><br><span class="line">    <span class="string">&quot;quote&quot;</span>: <span class="string">&quot;精彩摘录内容&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;prefersBinary&quot;</span>: <span class="number">1</span>                   <span class="comment">// 是否偏好二进制格式</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;imageUrl&quot;</span>: <span class="string">&quot;https://weread.qq.com/shareimage/abc123.jpg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;imageData&quot;</span>: <span class="string">&quot;base64_encoded_image_data&quot;</span>,</span><br><span class="line">    <span class="string">&quot;width&quot;</span>: <span class="number">750</span>,</span><br><span class="line">    <span class="string">&quot;height&quot;</span>: <span class="number">1334</span>,</span><br><span class="line">    <span class="string">&quot;format&quot;</span>: <span class="string">&quot;jpeg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;size&quot;</span>: <span class="number">102400</span>,</span><br><span class="line">    <span class="string">&quot;cacheKey&quot;</span>: <span class="string">&quot;cache_key_here&quot;</span>,</span><br><span class="line">    <span class="string">&quot;expireTime&quot;</span>: <span class="number">1641081600</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="阅读报告-API">阅读报告 API</h2>
<h3 id="书架内书籍阅读报告">书架内书籍阅读报告</h3>
<h4 id="POST-https-i-weread-qq-com-book-read">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/read">https://i.weread.qq.com/book/read</a></h4>
<p>报告书架内书籍的阅读数据。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,            <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,                     <span class="comment">// 章节UID</span></span><br><span class="line">  <span class="string">&quot;chapterIdx&quot;</span>: <span class="number">0</span>,                     <span class="comment">// 章节索引</span></span><br><span class="line">  <span class="string">&quot;reviewId&quot;</span>: <span class="string">&quot;review_id_here&quot;</span>,        <span class="comment">// 书评ID</span></span><br><span class="line">  <span class="string">&quot;chapterOffset&quot;</span>: <span class="number">1000</span>,               <span class="comment">// 章节偏移</span></span><br><span class="line">  <span class="string">&quot;chapterProgress&quot;</span>: <span class="number">50</span>,               <span class="comment">// 章节进度（百分比）</span></span><br><span class="line">  <span class="string">&quot;readingTime&quot;</span>: <span class="number">1800</span>,                 <span class="comment">// 阅读时长（秒）</span></span><br><span class="line">  <span class="string">&quot;ttsTime&quot;</span>: <span class="number">0</span>,                        <span class="comment">// TTS时长</span></span><br><span class="line">  <span class="string">&quot;lectureTime&quot;</span>: <span class="number">0</span>,                    <span class="comment">// 讲座时长</span></span><br><span class="line">  <span class="string">&quot;lectureTextTime&quot;</span>: <span class="number">0</span>,                <span class="comment">// 讲座文本时长</span></span><br><span class="line">  <span class="string">&quot;novalTime&quot;</span>: <span class="number">0</span>,                      <span class="comment">// 小说时长</span></span><br><span class="line">  <span class="string">&quot;appId&quot;</span>: <span class="string">&quot;app_id_here&quot;</span>,              <span class="comment">// 应用ID</span></span><br><span class="line">  <span class="string">&quot;installId&quot;</span>: <span class="string">&quot;install_id_here&quot;</span>,      <span class="comment">// 安装ID</span></span><br><span class="line">  <span class="string">&quot;bookVersion&quot;</span>: <span class="number">1</span>,                    <span class="comment">// 书籍版本</span></span><br><span class="line">  <span class="string">&quot;summary&quot;</span>: <span class="string">&quot;阅读摘要&quot;</span>,               <span class="comment">// 阅读摘要</span></span><br><span class="line">  <span class="string">&quot;isLecture&quot;</span>: <span class="number">0</span>,                      <span class="comment">// 是否为讲座</span></span><br><span class="line">  <span class="string">&quot;voiceType&quot;</span>: <span class="number">0</span>,                      <span class="comment">// 语音类型</span></span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,             <span class="comment">// 时间戳</span></span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,                     <span class="comment">// 随机数</span></span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,     <span class="comment">// 签名</span></span><br><span class="line">  <span class="string">&quot;autoTime&quot;</span>: <span class="number">0</span>,                       <span class="comment">// 自动时长</span></span><br><span class="line">  <span class="string">&quot;isStoryFeed&quot;</span>: <span class="number">0</span>,                    <span class="comment">// 是否为故事流</span></span><br><span class="line">  <span class="string">&quot;wordCount&quot;</span>: <span class="number">2500</span>,                   <span class="comment">// 字数</span></span><br><span class="line">  <span class="string">&quot;curType&quot;</span>: <span class="string">&quot;reading&quot;</span>,                <span class="comment">// 当前类型</span></span><br><span class="line">  <span class="string">&quot;hours&quot;</span>: [                           <span class="comment">// 小时数据</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;hour&quot;</span>: <span class="number">14</span>,</span><br><span class="line">      <span class="string">&quot;readingTime&quot;</span>: <span class="number">1800</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_here&quot;</span>,        <span class="comment">// 设备ID</span></span><br><span class="line">  <span class="string">&quot;risk&quot;</span>: <span class="number">0</span>,                           <span class="comment">// 风险等级</span></span><br><span class="line">  <span class="string">&quot;recordCreateTimeZone&quot;</span>: <span class="string">&quot;+08:00&quot;</span>     <span class="comment">// 记录创建时区</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="非书架书籍阅读报告">非书架书籍阅读报告</h3>
<h4 id="POST-https-i-weread-qq-com-book-read-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/read">https://i.weread.qq.com/book/read</a></h4>
<p>报告非书架书籍的阅读数据（参数较少）。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,            <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;reviewId&quot;</span>: <span class="string">&quot;review_id_here&quot;</span>,        <span class="comment">// 书评ID</span></span><br><span class="line">  <span class="string">&quot;readingTime&quot;</span>: <span class="number">1800</span>,                 <span class="comment">// 阅读时长（秒）</span></span><br><span class="line">  <span class="string">&quot;ttsTime&quot;</span>: <span class="number">0</span>,                        <span class="comment">// TTS时长</span></span><br><span class="line">  <span class="string">&quot;lectureTime&quot;</span>: <span class="number">0</span>,                    <span class="comment">// 讲座时长</span></span><br><span class="line">  <span class="string">&quot;lectureTextTime&quot;</span>: <span class="number">0</span>,                <span class="comment">// 讲座文本时长</span></span><br><span class="line">  <span class="string">&quot;novalTime&quot;</span>: <span class="number">0</span>,                      <span class="comment">// 小说时长</span></span><br><span class="line">  <span class="string">&quot;voiceType&quot;</span>: <span class="number">0</span>,                      <span class="comment">// 语音类型</span></span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,             <span class="comment">// 时间戳</span></span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,                     <span class="comment">// 随机数</span></span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,     <span class="comment">// 签名</span></span><br><span class="line">  <span class="string">&quot;autoTime&quot;</span>: <span class="number">0</span>,                       <span class="comment">// 自动时长</span></span><br><span class="line">  <span class="string">&quot;chapterProgress&quot;</span>: <span class="number">50</span>,               <span class="comment">// 章节进度</span></span><br><span class="line">  <span class="string">&quot;wordCount&quot;</span>: <span class="number">2500</span>,                   <span class="comment">// 字数</span></span><br><span class="line">  <span class="string">&quot;hours&quot;</span>: [],                         <span class="comment">// 小时数据</span></span><br><span class="line">  <span class="string">&quot;deviceId&quot;</span>: <span class="string">&quot;device_id_here&quot;</span>,        <span class="comment">// 设备ID</span></span><br><span class="line">  <span class="string">&quot;risk&quot;</span>: <span class="number">0</span>,                           <span class="comment">// 风险等级</span></span><br><span class="line">  <span class="string">&quot;appId&quot;</span>: <span class="string">&quot;app_id_here&quot;</span>,              <span class="comment">// 应用ID</span></span><br><span class="line">  <span class="string">&quot;recordCreateTimeZone&quot;</span>: <span class="string">&quot;+08:00&quot;</span>     <span class="comment">// 记录创建时区</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="标记阅读状态-2">标记阅读状态</h3>
<h4 id="POST-https-i-weread-qq-com-book-markstatus-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/markstatus">https://i.weread.qq.com/book/markstatus</a></h4>
<p>标记书籍的阅读状态。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;status&quot;</span>: <span class="number">2</span>,                         <span class="comment">// 阅读状态</span></span><br><span class="line">  <span class="string">&quot;isCancel&quot;</span>: <span class="number">0</span>,                       <span class="comment">// 是否取消标记</span></span><br><span class="line">  <span class="string">&quot;bookIds&quot;</span>: [<span class="string">&quot;book1&quot;</span>, <span class="string">&quot;book2&quot;</span>]        <span class="comment">// 书籍ID数组（可选）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="进度上传-API">进度上传 API</h2>
<h3 id="上传-TTS-进度">上传 TTS 进度</h3>
<h4 id="POST-https-i-weread-qq-com-book-uploadProgress">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/uploadProgress">https://i.weread.qq.com/book/uploadProgress</a></h4>
<p>上传文本转语音的播放进度。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,            <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;tts&quot;</span>: &#123;                             <span class="comment">// TTS进度信息</span></span><br><span class="line">    <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;progress&quot;</span>: <span class="number">0.5</span>,</span><br><span class="line">    <span class="string">&quot;position&quot;</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="string">&quot;duration&quot;</span>: <span class="number">2000</span>,</span><br><span class="line">    <span class="string">&quot;speed&quot;</span>: <span class="number">1.0</span>,</span><br><span class="line">    <span class="string">&quot;voice&quot;</span>: <span class="string">&quot;female&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="批量上传进度">批量上传进度</h3>
<h4 id="POST-https-i-weread-qq-com-book-batchUploadProgress">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/batchUploadProgress">https://i.weread.qq.com/book/batchUploadProgress</a></h4>
<p>批量上传多本书籍的阅读进度。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;books&quot;</span>: [                           <span class="comment">// 书籍进度数组</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;progress&quot;</span>: <span class="number">0.5</span>,</span><br><span class="line">      <span class="string">&quot;readingTime&quot;</span>: <span class="number">1800</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book2&quot;</span>,</span><br><span class="line">      <span class="string">&quot;chapterUid&quot;</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="string">&quot;progress&quot;</span>: <span class="number">0.3</span>,</span><br><span class="line">      <span class="string">&quot;readingTime&quot;</span>: <span class="number">1200</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,             <span class="comment">// 时间戳</span></span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,                     <span class="comment">// 随机数</span></span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,     <span class="comment">// 签名</span></span><br><span class="line">  <span class="string">&quot;recordCreateTimeZone&quot;</span>: <span class="string">&quot;+08:00&quot;</span>     <span class="comment">// 记录创建时区</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>书籍搜索 API</h1>
<p>微信读书书籍搜索相关的 API 接口，包括基础搜索、高级搜索、书店搜索等功能。</p>
<h2 id="基础搜索-API">基础搜索 API</h2>
<h3 id="书店综合搜索">书店综合搜索</h3>
<h4 id="GET-store-search">GET /store/search</h4>
<p>在书店中进行综合搜索。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;keyword&quot;</span>: <span class="string">&quot;人工智能&quot;</span>,               <span class="comment">// 搜索关键词</span></span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;作者名&quot;</span>,                  <span class="comment">// 作者名称</span></span><br><span class="line">  <span class="string">&quot;authorVids&quot;</span>: <span class="string">&quot;123,456&quot;</span>,             <span class="comment">// 作者VID列表</span></span><br><span class="line">  <span class="string">&quot;categoryId&quot;</span>: <span class="string">&quot;tech&quot;</span>,                <span class="comment">// 分类ID</span></span><br><span class="line">  <span class="string">&quot;count&quot;</span>: <span class="number">20</span>,                         <span class="comment">// 获取数量（可选）</span></span><br><span class="line">  <span class="string">&quot;maxIdx&quot;</span>: <span class="number">100</span>,                       <span class="comment">// 最大索引（可选）</span></span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,                           <span class="comment">// 搜索类型（可选）</span></span><br><span class="line">  <span class="string">&quot;v&quot;</span>: <span class="number">2</span>,                              <span class="comment">// 版本（可选）</span></span><br><span class="line">  <span class="string">&quot;outer&quot;</span>: <span class="number">0</span>,                          <span class="comment">// 外部标识</span></span><br><span class="line">  <span class="string">&quot;fromBookId&quot;</span>: <span class="string">&quot;book_123&quot;</span>,            <span class="comment">// 来源书籍ID</span></span><br><span class="line">  <span class="string">&quot;scope&quot;</span>: <span class="number">1</span>,                          <span class="comment">// 搜索范围</span></span><br><span class="line">  <span class="string">&quot;scene&quot;</span>: <span class="number">1</span>,                          <span class="comment">// 搜索场景</span></span><br><span class="line">  <span class="string">&quot;filterType&quot;</span>: <span class="number">0</span>,                     <span class="comment">// 过滤类型</span></span><br><span class="line">  <span class="string">&quot;filterField&quot;</span>: <span class="string">&quot;all&quot;</span>,                <span class="comment">// 过滤字段</span></span><br><span class="line">  <span class="string">&quot;queryUid&quot;</span>: <span class="string">&quot;query_456&quot;</span>,             <span class="comment">// 查询UID</span></span><br><span class="line">  <span class="string">&quot;isQueryWord&quot;</span>: <span class="number">1</span>                     <span class="comment">// 是否查询词</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;books&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_123456&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;人工智能简史&quot;</span>,</span><br><span class="line">        <span class="string">&quot;author&quot;</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">        <span class="string">&quot;cover&quot;</span>: <span class="string">&quot;https://example.com/cover1.jpg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;isbn&quot;</span>: <span class="string">&quot;9787111234567&quot;</span>,</span><br><span class="line">        <span class="string">&quot;publisher&quot;</span>: <span class="string">&quot;机械工业出版社&quot;</span>,</span><br><span class="line">        <span class="string">&quot;publishTime&quot;</span>: <span class="string">&quot;2023-01-15&quot;</span>,</span><br><span class="line">        <span class="string">&quot;category&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;categoryId&quot;</span>: <span class="string">&quot;tech&quot;</span>,</span><br><span class="line">          <span class="string">&quot;name&quot;</span>: <span class="string">&quot;科技&quot;</span>,</span><br><span class="line">          <span class="string">&quot;subCategory&quot;</span>: <span class="string">&quot;人工智能&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;rating&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;score&quot;</span>: <span class="number">4.5</span>,</span><br><span class="line">          <span class="string">&quot;count&quot;</span>: <span class="number">1250</span>,</span><br><span class="line">          <span class="string">&quot;distribution&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;5&quot;</span>: <span class="number">650</span>,</span><br><span class="line">            <span class="string">&quot;4&quot;</span>: <span class="number">400</span>,</span><br><span class="line">            <span class="string">&quot;3&quot;</span>: <span class="number">150</span>,</span><br><span class="line">            <span class="string">&quot;2&quot;</span>: <span class="number">30</span>,</span><br><span class="line">            <span class="string">&quot;1&quot;</span>: <span class="number">20</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;price&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;original&quot;</span>: <span class="number">59.0</span>,</span><br><span class="line">          <span class="string">&quot;current&quot;</span>: <span class="number">29.5</span>,</span><br><span class="line">          <span class="string">&quot;discount&quot;</span>: <span class="number">0.5</span>,</span><br><span class="line">          <span class="string">&quot;currency&quot;</span>: <span class="string">&quot;CNY&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;stats&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;readCount&quot;</span>: <span class="number">15600</span>,</span><br><span class="line">          <span class="string">&quot;reviewCount&quot;</span>: <span class="number">89</span>,</span><br><span class="line">          <span class="string">&quot;noteCount&quot;</span>: <span class="number">234</span>,</span><br><span class="line">          <span class="string">&quot;wordCount&quot;</span>: <span class="number">180000</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;tags&quot;</span>: [<span class="string">&quot;人工智能&quot;</span>, <span class="string">&quot;科技&quot;</span>, <span class="string">&quot;入门&quot;</span>],</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;深入浅出地介绍人工智能的发展历程和核心技术...&quot;</span>,</span><br><span class="line">        <span class="string">&quot;availability&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;isAvailable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="string">&quot;isFree&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="string">&quot;hasTrialReading&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="string">&quot;trialChapters&quot;</span>: <span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;authors&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;authorVid&quot;</span>: <span class="string">&quot;author_789&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">        <span class="string">&quot;avatar&quot;</span>: <span class="string">&quot;https://example.com/author_avatar.jpg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;人工智能领域专家&quot;</span>,</span><br><span class="line">        <span class="string">&quot;bookCount&quot;</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="string">&quot;followerCount&quot;</span>: <span class="number">2580</span>,</span><br><span class="line">        <span class="string">&quot;tags&quot;</span>: [<span class="string">&quot;AI专家&quot;</span>, <span class="string">&quot;教授&quot;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;categories&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;categoryId&quot;</span>: <span class="string">&quot;tech&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;科技&quot;</span>,</span><br><span class="line">        <span class="string">&quot;bookCount&quot;</span>: <span class="number">1250</span>,</span><br><span class="line">        <span class="string">&quot;subCategories&quot;</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">&quot;categoryId&quot;</span>: <span class="string">&quot;ai&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;人工智能&quot;</span>,</span><br><span class="line">            <span class="string">&quot;bookCount&quot;</span>: <span class="number">156</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;searchStats&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;totalCount&quot;</span>: <span class="number">1250</span>,</span><br><span class="line">      <span class="string">&quot;searchTime&quot;</span>: <span class="number">0.15</span>,</span><br><span class="line">      <span class="string">&quot;hasMore&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="string">&quot;nextMaxIdx&quot;</span>: <span class="number">120</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;suggestions&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;人工智能入门&quot;</span>,</span><br><span class="line">      <span class="string">&quot;机器学习&quot;</span>,</span><br><span class="line">      <span class="string">&quot;深度学习&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="按标题搜索书籍">按标题搜索书籍</h3>
<h4 id="POST-https-i-weread-qq-com-store-titlesearch">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/store/titlesearch">https://i.weread.qq.com/store/titlesearch</a></h4>
<p>通过书籍标题进行精确搜索。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;keywords&quot;</span>: [                        <span class="comment">// 关键词列表</span></span><br><span class="line">    <span class="string">&quot;人工智能简史&quot;</span>,</span><br><span class="line">    <span class="string">&quot;机器学习实战&quot;</span>,</span><br><span class="line">    <span class="string">&quot;深度学习&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;books&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_123456&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;人工智能简史&quot;</span>,</span><br><span class="line">        <span class="string">&quot;author&quot;</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">        <span class="string">&quot;cover&quot;</span>: <span class="string">&quot;https://example.com/cover1.jpg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;isbn&quot;</span>: <span class="string">&quot;9787111234567&quot;</span>,</span><br><span class="line">        <span class="string">&quot;matchScore&quot;</span>: <span class="number">0.95</span>,              <span class="comment">// 匹配度评分</span></span><br><span class="line">        <span class="string">&quot;matchType&quot;</span>: <span class="string">&quot;exact_title&quot;</span>,      <span class="comment">// 匹配类型</span></span><br><span class="line">        <span class="string">&quot;highlightTitle&quot;</span>: <span class="string">&quot;&lt;em&gt;人工智能简史&lt;/em&gt;&quot;</span>, <span class="comment">// 高亮标题</span></span><br><span class="line">        <span class="string">&quot;publisher&quot;</span>: <span class="string">&quot;机械工业出版社&quot;</span>,</span><br><span class="line">        <span class="string">&quot;publishTime&quot;</span>: <span class="string">&quot;2023-01-15&quot;</span>,</span><br><span class="line">        <span class="string">&quot;rating&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;score&quot;</span>: <span class="number">4.5</span>,</span><br><span class="line">          <span class="string">&quot;count&quot;</span>: <span class="number">1250</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;price&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;current&quot;</span>: <span class="number">29.5</span>,</span><br><span class="line">          <span class="string">&quot;currency&quot;</span>: <span class="string">&quot;CNY&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;availability&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;isAvailable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="string">&quot;isFree&quot;</span>: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;searchStats&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;totalMatches&quot;</span>: <span class="number">3</span>,</span><br><span class="line">      <span class="string">&quot;exactMatches&quot;</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="string">&quot;partialMatches&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;searchTime&quot;</span>: <span class="number">0.08</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;unmatchedKeywords&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;不存在的书名&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>书籍服务 API</h1>
<p>微信读书书籍服务相关的 API 接口，包括书籍信息、AI 功能、搜索、订阅等。</p>
<h2 id="书籍信息-API">书籍信息 API</h2>
<h3 id="获取单本书籍信息">获取单本书籍信息</h3>
<h4 id="GET-book-info">GET /book/info</h4>
<p>获取指定书籍的详细信息。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,    <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;teenmode&quot;</span>: <span class="number">0</span>,               <span class="comment">// 青少年模式 (0: 关闭, 1: 开启)</span></span><br><span class="line">  <span class="string">&quot;myzy&quot;</span>: <span class="number">0</span>,                   <span class="comment">// 可选参数</span></span><br><span class="line">  <span class="string">&quot;source&quot;</span>: <span class="string">&quot;source_name&quot;</span>      <span class="comment">// 来源</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;书籍标题&quot;</span>,</span><br><span class="line">    <span class="string">&quot;author&quot;</span>: <span class="string">&quot;作者姓名&quot;</span>,</span><br><span class="line">    <span class="string">&quot;cover&quot;</span>: <span class="string">&quot;https://example.com/cover.jpg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;intro&quot;</span>: <span class="string">&quot;书籍简介&quot;</span>,</span><br><span class="line">    <span class="string">&quot;category&quot;</span>: <span class="string">&quot;科技&quot;</span>,</span><br><span class="line">    <span class="string">&quot;publishTime&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;wordCount&quot;</span>: <span class="number">200000</span>,</span><br><span class="line">    <span class="string">&quot;chapterCount&quot;</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="string">&quot;price&quot;</span>: <span class="number">29.99</span>,</span><br><span class="line">    <span class="string">&quot;rating&quot;</span>: <span class="number">4.5</span>,</span><br><span class="line">    <span class="string">&quot;ratingCount&quot;</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="string">&quot;tags&quot;</span>: [<span class="string">&quot;人工智能&quot;</span>, <span class="string">&quot;科技&quot;</span>],</span><br><span class="line">    <span class="string">&quot;publisher&quot;</span>: <span class="string">&quot;出版社名称&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="批量获取书籍信息">批量获取书籍信息</h3>
<h4 id="POST-https-i-weread-qq-com-book-infos">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/infos">https://i.weread.qq.com/book/infos</a></h4>
<p>批量获取多本书籍的信息。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookIds&quot;</span>: [<span class="string">&quot;book1&quot;</span>, <span class="string">&quot;book2&quot;</span>, <span class="string">&quot;book3&quot;</span>],  <span class="comment">// 书籍ID数组</span></span><br><span class="line">  <span class="string">&quot;teenmode&quot;</span>: <span class="number">0</span>                            <span class="comment">// 青少年模式</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取书籍更新信息">获取书籍更新信息</h3>
<h4 id="POST-https-i-weread-qq-com-book-lastchapteridx">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/lastchapteridx">https://i.weread.qq.com/book/lastchapteridx</a></h4>
<p>检查书籍是否有更新。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookIds&quot;</span>: [<span class="string">&quot;book1&quot;</span>, <span class="string">&quot;book2&quot;</span>],           <span class="comment">// 书籍ID数组</span></span><br><span class="line">  <span class="string">&quot;lastChapterIdxs&quot;</span>: [<span class="number">10</span>, <span class="number">15</span>],             <span class="comment">// 最后章节索引数组</span></span><br><span class="line">  <span class="string">&quot;synckeys&quot;</span>: [<span class="number">123456789</span>, <span class="number">123456790</span>]       <span class="comment">// 同步键数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="书籍详细信息">书籍详细信息</h2>
<h3 id="获取书籍页脚">获取书籍页脚</h3>
<h4 id="GET-book-footer">GET /book/footer</h4>
<p>获取书籍页面的页脚信息，包括版权、出版信息等。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>         <span class="comment">// 书籍ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;copyright&quot;</span>: <span class="string">&quot;© 2023 出版社名称&quot;</span>,</span><br><span class="line">    <span class="string">&quot;isbn&quot;</span>: <span class="string">&quot;978-7-111-12345-6&quot;</span>,</span><br><span class="line">    <span class="string">&quot;publishDate&quot;</span>: <span class="string">&quot;2023年1月&quot;</span>,</span><br><span class="line">    <span class="string">&quot;publisher&quot;</span>: <span class="string">&quot;机械工业出版社&quot;</span>,</span><br><span class="line">    <span class="string">&quot;edition&quot;</span>: <span class="string">&quot;第1版&quot;</span>,</span><br><span class="line">    <span class="string">&quot;printDate&quot;</span>: <span class="string">&quot;2023年1月第1次印刷&quot;</span>,</span><br><span class="line">    <span class="string">&quot;legalNotice&quot;</span>: <span class="string">&quot;版权所有，侵权必究&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取书籍付费时间">获取书籍付费时间</h3>
<h4 id="GET-book-paytime">GET /book/paytime</h4>
<p>获取书籍的付费时间信息，支持批量查询。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookIds&quot;</span>: <span class="string">&quot;book1,book2,book3&quot;</span>   <span class="comment">// 书籍ID列表（逗号分隔）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;payTimes&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;book1&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;payTime&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">        <span class="string">&quot;payMethod&quot;</span>: <span class="string">&quot;wechat_pay&quot;</span>,</span><br><span class="line">        <span class="string">&quot;amount&quot;</span>: <span class="number">29.99</span>,</span><br><span class="line">        <span class="string">&quot;currency&quot;</span>: <span class="string">&quot;CNY&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&quot;book2&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;payTime&quot;</span>: <span class="number">1641081600</span>,</span><br><span class="line">        <span class="string">&quot;payMethod&quot;</span>: <span class="string">&quot;alipay&quot;</span>,</span><br><span class="line">        <span class="string">&quot;amount&quot;</span>: <span class="number">19.99</span>,</span><br><span class="line">        <span class="string">&quot;currency&quot;</span>: <span class="string">&quot;CNY&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&quot;book3&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;payTime&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;isFree&quot;</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="AI-功能-API">AI 功能 API</h2>
<h3 id="AI-内容生成">AI 内容生成</h3>
<h4 id="POST-https-i-weread-qq-com-ai-readbook">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/ai/readbook">https://i.weread.qq.com/ai/readbook</a></h4>
<p>使用 AI 生成书籍相关内容，如要点总结、实体词等。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,                <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;chapterUids&quot;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],                <span class="comment">// 章节UID数组</span></span><br><span class="line">  <span class="string">&quot;reqType&quot;</span>: <span class="string">&quot;keyPoint&quot;</span>                    <span class="comment">// 请求类型: keyPoint, keyWordRange</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;keyPoints&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;points&quot;</span>: [</span><br><span class="line">          <span class="string">&quot;要点1：人工智能的定义&quot;</span>,</span><br><span class="line">          <span class="string">&quot;要点2：机器学习的基本概念&quot;</span>,</span><br><span class="line">          <span class="string">&quot;要点3：深度学习的应用&quot;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;summary&quot;</span>: <span class="string">&quot;本章主要介绍了人工智能的基础概念...&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="AI-索引生成">AI 索引生成</h3>
<h4 id="POST-https-i-weread-qq-com-ai-readbook-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/ai/readbook">https://i.weread.qq.com/ai/readbook</a></h4>
<p>生成书籍的 AI 索引。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,                <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;reqType&quot;</span>: <span class="string">&quot;keyPoint&quot;</span>,                   <span class="comment">// 请求类型</span></span><br><span class="line">  <span class="string">&quot;needChapterInfos&quot;</span>: <span class="literal">true</span>                 <span class="comment">// 是否需要章节信息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="实体词提取">实体词提取</h3>
<h4 id="POST-https-i-weread-qq-com-ai-readbook-3">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/ai/readbook">https://i.weread.qq.com/ai/readbook</a></h4>
<p>提取书籍章节中的实体词。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,                <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;chapterUids&quot;</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],                <span class="comment">// 章节UID数组</span></span><br><span class="line">  <span class="string">&quot;reqType&quot;</span>: <span class="string">&quot;keyWordRange&quot;</span>                <span class="comment">// 请求类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="知识检索">知识检索</h3>
<h4 id="POST-https-i-weread-qq-com-knowledge-retrieval-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/knowledge/retrieval">https://i.weread.qq.com/knowledge/retrieval</a></h4>
<p>在书籍中检索相关知识。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;book_id&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,               <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;query&quot;</span>: <span class="string">&quot;search_query&quot;</span>,                 <span class="comment">// 搜索查询</span></span><br><span class="line">  <span class="string">&quot;question_recall&quot;</span>: <span class="literal">true</span>,                 <span class="comment">// 是否问题召回</span></span><br><span class="line">  <span class="string">&quot;scene&quot;</span>: <span class="number">1</span>,                              <span class="comment">// 场景ID</span></span><br><span class="line">  <span class="string">&quot;count&quot;</span>: <span class="number">10</span>                              <span class="comment">// 返回数量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="搜索功能-API">搜索功能 API</h2>
<h3 id="内容搜索">内容搜索</h3>
<h4 id="GET-book-search">GET /book/search</h4>
<p>在书籍内容中搜索关键词。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,                <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;keyword&quot;</span>: <span class="string">&quot;search_keyword&quot;</span>,             <span class="comment">// 搜索关键词</span></span><br><span class="line">  <span class="string">&quot;mode&quot;</span>: <span class="string">&quot;search_mode&quot;</span>,                   <span class="comment">// 搜索模式</span></span><br><span class="line">  <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,                         <span class="comment">// 章节UID（可选）</span></span><br><span class="line">  <span class="string">&quot;posBegin&quot;</span>: <span class="number">0</span>,                           <span class="comment">// 开始位置（可选）</span></span><br><span class="line">  <span class="string">&quot;posEnd&quot;</span>: <span class="number">100</span>,                           <span class="comment">// 结束位置（可选）</span></span><br><span class="line">  <span class="string">&quot;v&quot;</span>: <span class="number">2</span>,                                  <span class="comment">// 版本</span></span><br><span class="line">  <span class="string">&quot;count&quot;</span>: <span class="number">10</span>                              <span class="comment">// 返回数量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="内容定位">内容定位</h3>
<h4 id="POST-https-i-weread-qq-com-book-locate">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/locate">https://i.weread.qq.com/book/locate</a></h4>
<p>定位书籍中的特定文本内容。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,                <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,                         <span class="comment">// 章节UID（可选）</span></span><br><span class="line">  <span class="string">&quot;text&quot;</span>: <span class="string">&quot;target_text&quot;</span>,                   <span class="comment">// 目标文本</span></span><br><span class="line">  <span class="string">&quot;matchWords&quot;</span>: [<span class="string">&quot;word1&quot;</span>, <span class="string">&quot;word2&quot;</span>]         <span class="comment">// 匹配词数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="书籍请求-API">书籍请求 API</h2>
<h3 id="请求添加书籍">请求添加书籍</h3>
<h4 id="POST-https-i-weread-qq-com-book-notfound">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/notfound">https://i.weread.qq.com/book/notfound</a></h4>
<p>报告书籍未找到，请求平台添加该书籍。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;globalId&quot;</span>: <span class="string">&quot;global_id_here&quot;</span>,            <span class="comment">// 全局ID</span></span><br><span class="line">  <span class="string">&quot;title&quot;</span>: <span class="string">&quot;book_title&quot;</span>,                   <span class="comment">// 书籍标题</span></span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;author_name&quot;</span>,                 <span class="comment">// 作者姓名</span></span><br><span class="line">  <span class="string">&quot;addReview&quot;</span>: <span class="number">1</span>,                          <span class="comment">// 是否添加书评（可选）</span></span><br><span class="line">  <span class="string">&quot;bookCover&quot;</span>: <span class="string">&quot;cover_url&quot;</span>                 <span class="comment">// 书籍封面URL（可选）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="音频功能-API">音频功能 API</h2>
<h3 id="获取音频-URL">获取音频 URL</h3>
<h4 id="GET-audio-geturl">GET /audio/geturl</h4>
<p>获取音频资源的播放 URL。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;audioId&quot;</span>: <span class="string">&quot;audio_id_here&quot;</span>,              <span class="comment">// 音频ID</span></span><br><span class="line">  <span class="string">&quot;reviewId&quot;</span>: <span class="string">&quot;review_id_here&quot;</span>,            <span class="comment">// 书评ID</span></span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,                               <span class="comment">// 类型</span></span><br><span class="line">  <span class="string">&quot;quality&quot;</span>: <span class="number">1</span>                             <span class="comment">// 音质</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="上传音频">上传音频</h3>
<h4 id="POST-https-i-weread-qq-com-audio-apply">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/audio/apply">https://i.weread.qq.com/audio/apply</a></h4>
<p>申请上传音频文件。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;md5&quot;</span>: <span class="string">&quot;file_md5_hash&quot;</span>,                  <span class="comment">// 文件MD5哈希</span></span><br><span class="line">  <span class="string">&quot;sha&quot;</span>: <span class="string">&quot;file_sha_hash&quot;</span>,                  <span class="comment">// 文件SHA哈希</span></span><br><span class="line">  <span class="string">&quot;datalen&quot;</span>: <span class="number">1024000</span>,                      <span class="comment">// 数据长度</span></span><br><span class="line">  <span class="string">&quot;filetype&quot;</span>: <span class="string">&quot;mp3&quot;</span>,                       <span class="comment">// 文件类型</span></span><br><span class="line">  <span class="string">&quot;addrtype&quot;</span>: <span class="number">1</span>                            <span class="comment">// 地址类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="书籍分享-API">书籍分享 API</h2>
<h3 id="分享到发现页">分享到发现页</h3>
<h4 id="POST-https-i-weread-qq-com-book-shareToDiscover">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/shareToDiscover">https://i.weread.qq.com/book/shareToDiscover</a></h4>
<p>将书籍分享到发现页面，让其他用户可以发现和阅读。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,        <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;isLecture&quot;</span>: <span class="number">0</span>,                  <span class="comment">// 是否为讲座 (0: 否, 1: 是)</span></span><br><span class="line">  <span class="string">&quot;lectureVid&quot;</span>: <span class="number">0</span>,                 <span class="comment">// 讲座VID（当isLecture为1时使用）</span></span><br><span class="line">  <span class="string">&quot;isUnshare&quot;</span>: <span class="number">0</span>,                  <span class="comment">// 是否取消分享 (0: 分享, 1: 取消分享)</span></span><br><span class="line">  <span class="string">&quot;shareText&quot;</span>: <span class="string">&quot;推荐理由&quot;</span>,          <span class="comment">// 分享文本（可选）</span></span><br><span class="line">  <span class="string">&quot;tags&quot;</span>: [<span class="string">&quot;标签1&quot;</span>, <span class="string">&quot;标签2&quot;</span>]        <span class="comment">// 分享标签（可选）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;success&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;shareId&quot;</span>: <span class="string">&quot;share_123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;shareUrl&quot;</span>: <span class="string">&quot;https://weread.qq.com/share/123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;message&quot;</span>: <span class="string">&quot;分享成功&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="订阅管理">订阅管理</h2>
<h3 id="订阅作者">订阅作者</h3>
<h4 id="POST-https-i-weread-qq-com-subscription-operation">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/subscription/operation">https://i.weread.qq.com/subscription/operation</a></h4>
<p>订阅或取消订阅作者，获取作者的最新作品推送。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,                       <span class="comment">// 订阅类型 (1: 作者订阅)</span></span><br><span class="line">  <span class="string">&quot;isUnSubscribe&quot;</span>: <span class="number">0</span>,              <span class="comment">// 是否取消订阅 (0: 订阅, 1: 取消订阅)</span></span><br><span class="line">  <span class="string">&quot;authorNames&quot;</span>: [<span class="string">&quot;作者1&quot;</span>, <span class="string">&quot;作者2&quot;</span>], <span class="comment">// 作者姓名数组</span></span><br><span class="line">  <span class="string">&quot;authorIds&quot;</span>: [<span class="string">&quot;id1&quot;</span>, <span class="string">&quot;id2&quot;</span>],     <span class="comment">// 作者ID数组</span></span><br><span class="line">  <span class="string">&quot;fromBookIds&quot;</span>: [<span class="string">&quot;book1&quot;</span>, <span class="string">&quot;book2&quot;</span>], <span class="comment">// 来源书籍ID数组</span></span><br><span class="line">  <span class="string">&quot;cpName&quot;</span>: [<span class="string">&quot;出版社1&quot;</span>, <span class="string">&quot;出版社2&quot;</span>]   <span class="comment">// 出版社名称数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;success&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;subscribed&quot;</span>: [<span class="string">&quot;作者1&quot;</span>, <span class="string">&quot;作者2&quot;</span>],</span><br><span class="line">    <span class="string">&quot;failed&quot;</span>: [],</span><br><span class="line">    <span class="string">&quot;message&quot;</span>: <span class="string">&quot;订阅成功&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="取消书籍订阅">取消书籍订阅</h3>
<h4 id="POST-https-i-weread-qq-com-subscription-cancel">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/subscription/cancel">https://i.weread.qq.com/subscription/cancel</a></h4>
<p>取消对特定书籍的订阅通知。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookIds&quot;</span>: [<span class="string">&quot;book1&quot;</span>, <span class="string">&quot;book2&quot;</span>, <span class="string">&quot;book3&quot;</span>]   <span class="comment">// 要取消订阅的书籍ID数组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;success&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;cancelledBooks&quot;</span>: [<span class="string">&quot;book1&quot;</span>, <span class="string">&quot;book2&quot;</span>, <span class="string">&quot;book3&quot;</span>],</span><br><span class="line">    <span class="string">&quot;message&quot;</span>: <span class="string">&quot;取消订阅成功&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取订阅状态">获取订阅状态</h3>
<h4 id="GET-shelf-uncertifiedopus">GET /shelf/uncertifiedopus</h4>
<p>获取作者订阅状态信息和相关作品。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_id_here&quot;</span>,        <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;userVid&quot;</span>: <span class="string">&quot;user_vid_here&quot;</span>,      <span class="comment">// 用户VID</span></span><br><span class="line">  <span class="string">&quot;authorId&quot;</span>: <span class="string">&quot;author_id_here&quot;</span>,    <span class="comment">// 作者ID</span></span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;author_name&quot;</span>,           <span class="comment">// 作者姓名</span></span><br><span class="line">  <span class="string">&quot;nameType&quot;</span>: <span class="number">1</span>,                   <span class="comment">// 姓名类型 (1: 作者名)</span></span><br><span class="line">  <span class="string">&quot;opType&quot;</span>: <span class="number">1</span>,                     <span class="comment">// 操作类型 (1: 查询订阅状态)</span></span><br><span class="line">  <span class="string">&quot;maxIdx&quot;</span>: <span class="number">0</span>,                     <span class="comment">// 最大索引</span></span><br><span class="line">  <span class="string">&quot;count&quot;</span>: <span class="number">20</span>                      <span class="comment">// 返回数量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;isSubscribed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;authorInfo&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;authorId&quot;</span>: <span class="string">&quot;author_123&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">      <span class="string">&quot;avatar&quot;</span>: <span class="string">&quot;https://example.com/avatar.jpg&quot;</span>,</span><br><span class="line">      <span class="string">&quot;description&quot;</span>: <span class="string">&quot;知名作家&quot;</span>,</span><br><span class="line">      <span class="string">&quot;bookCount&quot;</span>: <span class="number">15</span>,</span><br><span class="line">      <span class="string">&quot;followerCount&quot;</span>: <span class="number">10000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;recentBooks&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_456&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;最新作品&quot;</span>,</span><br><span class="line">        <span class="string">&quot;publishTime&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">        <span class="string">&quot;cover&quot;</span>: <span class="string">&quot;https://example.com/cover.jpg&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;subscriptionTime&quot;</span>: <span class="number">1640995200</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>书单 API</h1>
<p>微信读书书单服务相关的 API 接口，包括书单创建、管理、评论、点赞、收藏等功能。</p>
<h2 id="书单管理-API">书单管理 API</h2>
<h3 id="创建书单">创建书单</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-add">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/add">https://i.weread.qq.com/booklist/add</a></h4>
<p>创建新的书单。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;我的推荐书单&quot;</span>,                <span class="comment">// 书单名称</span></span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;精选好书推荐&quot;</span>,        <span class="comment">// 书单描述</span></span><br><span class="line">  <span class="string">&quot;bookItems&quot;</span>: [                       <span class="comment">// 书籍列表</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;reason&quot;</span>: <span class="string">&quot;推荐理由1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;order&quot;</span>: <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book2&quot;</span>, </span><br><span class="line">      <span class="string">&quot;reason&quot;</span>: <span class="string">&quot;推荐理由2&quot;</span>,</span><br><span class="line">      <span class="string">&quot;order&quot;</span>: <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;shareToDiscover&quot;</span>: <span class="number">1</span>                 <span class="comment">// 是否分享到发现页</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;我的推荐书单&quot;</span>,</span><br><span class="line">    <span class="string">&quot;description&quot;</span>: <span class="string">&quot;精选好书推荐&quot;</span>,</span><br><span class="line">    <span class="string">&quot;createTime&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;updateTime&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;bookCount&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&quot;collectCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;likeCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;readCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;shareToDiscover&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;books&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;书籍1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;author&quot;</span>: <span class="string">&quot;作者1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;cover&quot;</span>: <span class="string">&quot;封面URL1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;reason&quot;</span>: <span class="string">&quot;推荐理由1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;order&quot;</span>: <span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="更新书单">更新书单</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-update">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/update">https://i.weread.qq.com/booklist/update</a></h4>
<p>更新现有书单的信息。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;更新后的书单名称&quot;</span>,           <span class="comment">// 新名称</span></span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;更新后的描述&quot;</span>,        <span class="comment">// 新描述</span></span><br><span class="line">  <span class="string">&quot;bookItems&quot;</span>: [                       <span class="comment">// 更新后的书籍列表</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;reason&quot;</span>: <span class="string">&quot;更新的推荐理由&quot;</span>,</span><br><span class="line">      <span class="string">&quot;order&quot;</span>: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;shareToDiscover&quot;</span>: <span class="number">0</span>                 <span class="comment">// 是否分享到发现页</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<pre><code>  'skey': skey,
  'User-Agent': 'WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0',
  'Content-Type': 'application/json'
&#125;,
body: JSON.stringify(&#123;
  booklistId: booklistId,
  name: name,
  description: description,
  bookItems: bookItems,
  shareToDiscover: shareToDiscover
&#125;)
</code></pre>
<p>});</p>
<p>return await response.json();<br>
}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 删除书单</span><br><span class="line"></span><br><span class="line">#### POST https://i.weread.qq.com/booklist/delete</span><br><span class="line"></span><br><span class="line">删除指定的书单。</span><br><span class="line"></span><br><span class="line">**请求参数:**</span><br><span class="line">```javascript</span><br><span class="line">&#123;</span><br><span class="line">  &quot;booklistId&quot;: &quot;booklist_123456&quot;      // 要删除的书单ID</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取书单详情">获取书单详情</h3>
<h4 id="GET-booklist-single">GET /booklist/single</h4>
<p>获取指定书单的详细信息。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;synckey&quot;</span>: <span class="number">123456789</span>                 <span class="comment">// 同步键</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取书单列表">获取书单列表</h3>
<h4 id="GET-booklists">GET /booklists</h4>
<p>获取用户的书单列表或书架书单列表。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;vid_123456&quot;</span>,                 <span class="comment">// 用户ID</span></span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;skey_123456&quot;</span>,              </span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"> <span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string">## 书单内容 API</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 添加书籍到书单</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#### POST https://i.weread.qq.com/booklist/addBook</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">向现有书单添加书籍。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">**请求参数:**</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;bookItems&quot;</span>: [                       <span class="comment">// 要添加的书籍</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;new_book_1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;reason&quot;</span>: <span class="string">&quot;新增推荐理由&quot;</span>,</span><br><span class="line">      <span class="string">&quot;order&quot;</span>: <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="从书单删除书籍">从书单删除书籍</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-delBook">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/delBook">https://i.weread.qq.com/booklist/delBook</a></h4>
<p>从书单中删除指定书籍。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;bookItems&quot;</span>: [                       <span class="comment">// 要删除的书籍</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_to_remove&quot;</span>,</span><br><span class="line">      <span class="string">&quot;order&quot;</span>: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="书单互动-API">书单互动 API</h2>
<h3 id="点赞书单">点赞书单</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-like">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/like">https://i.weread.qq.com/booklist/like</a></h4>
<p>对书单进行点赞或取消点赞。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;isUnlike&quot;</span>: <span class="number">0</span>                        <span class="comment">// 0: 点赞, 1: 取消点赞</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="收藏书单">收藏书单</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-collect">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/collect">https://i.weread.qq.com/booklist/collect</a></h4>
<p>收藏或取消收藏书单。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;isCancel&quot;</span>: <span class="number">0</span>                        <span class="comment">// 0: 收藏, 1: 取消收藏</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="分享书单到发现页">分享书单到发现页</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-shareToDiscover">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/shareToDiscover">https://i.weread.qq.com/booklist/shareToDiscover</a></h4>
<p>将书单分享到发现页面。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;isCancel&quot;</span>: <span class="number">0</span>                        <span class="comment">// 0: 分享, 1: 取消分享</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="阅读书单">阅读书单</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-read">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/read">https://i.weread.qq.com/booklist/read</a></h4>
<p>标记书单为已阅读。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>      <span class="comment">// 书单ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="书单评论-API">书单评论 API</h2>
<h3 id="添加评论">添加评论</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-comment">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/comment">https://i.weread.qq.com/booklist/comment</a></h4>
<p>对书单添加评论。</p>
<h5 id="发送评论">发送评论</h5>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;content&quot;</span>: <span class="string">&quot;评论内容&quot;</span>                 <span class="comment">// 评论内容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;errmsg&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;commentId&quot;</span>: <span class="string">&quot;comment_123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;content&quot;</span>: <span class="string">&quot;评论内容&quot;</span>,</span><br><span class="line">    <span class="string">&quot;createAt&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;updateAt&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;likeCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;replyCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;user&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;user_123456&quot;</span>,</span><br><span class="line">      <span class="string">&quot;nickname&quot;</span>: <span class="string">&quot;用户昵称&quot;</span>,</span><br><span class="line">      <span class="string">&quot;avatar&quot;</span>: <span class="string">&quot;用户头像URL&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="回复评论">回复评论</h5>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;booklistId&quot;</span>: <span class="string">&quot;booklist_123456&quot;</span>,     <span class="comment">// 书单ID</span></span><br><span class="line">  <span class="string">&quot;content&quot;</span>: <span class="string">&quot;评论内容&quot;</span>,                 <span class="comment">// 评论内容</span></span><br><span class="line">  <span class="string">&quot;toUserVid&quot;</span>: <span class="string">&quot;user_123456&quot;</span>,          <span class="comment">// 被回复用户ID</span></span><br><span class="line">  <span class="string">&quot;toCommentId&quot;</span>: <span class="string">&quot;comment_123456&quot;</span>      <span class="comment">// 被回复评论ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;errmsg&quot;</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;commentId&quot;</span>: <span class="string">&quot;comment_123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;content&quot;</span>: <span class="string">&quot;评论内容&quot;</span>,</span><br><span class="line">    <span class="string">&quot;createAt&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;updateAt&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;likeCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;replyCount&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">&quot;user&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;user_123456&quot;</span>,</span><br><span class="line">      <span class="string">&quot;nickname&quot;</span>: <span class="string">&quot;用户昵称&quot;</span>,</span><br><span class="line">      <span class="string">&quot;avatar&quot;</span>: <span class="string">&quot;用户头像URL&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="删除评论">删除评论</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-delComment">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/delComment">https://i.weread.qq.com/booklist/delComment</a></h4>
<p>删除指定的评论。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;commentId&quot;</span>: <span class="string">&quot;comment_123456&quot;</span>        <span class="comment">// 评论ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="点赞评论">点赞评论</h3>
<h4 id="POST-https-i-weread-qq-com-booklist-commentlike">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/booklist/commentlike">https://i.weread.qq.com/booklist/commentlike</a></h4>
<p>对评论进行点赞或取消点赞。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;commentId&quot;</span>: <span class="string">&quot;comment_123456&quot;</span>,       <span class="comment">// 评论ID</span></span><br><span class="line">  <span class="string">&quot;isUnlike&quot;</span>: <span class="number">0</span>                        <span class="comment">// 0: 点赞, 1: 取消点赞</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>书签管理 API</h1>
<p>微信读书书签管理相关的 API 接口，包括书签的添加、删除、更新、查询和分享功能。</p>
<h2 id="添加书签">添加书签</h2>
<h3 id="添加普通书籍书签">添加普通书籍书签</h3>
<h4 id="POST-https-i-weread-qq-com-book-addBookmark">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/addBookmark">https://i.weread.qq.com/book/addBookmark</a></h4>
<p>添加普通书籍的书签。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_123456&quot;</span>,             <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,                     <span class="comment">// 章节UID</span></span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,                           <span class="comment">// 书签类型</span></span><br><span class="line">  <span class="string">&quot;range&quot;</span>: <span class="string">&quot;0-100&quot;</span>,                    <span class="comment">// 选中范围</span></span><br><span class="line">  <span class="string">&quot;markText&quot;</span>: <span class="string">&quot;这是一段重要的内容&quot;</span>,     <span class="comment">// 标记文本</span></span><br><span class="line">  <span class="string">&quot;bookVersion&quot;</span>: <span class="number">1</span>,                    <span class="comment">// 书籍版本</span></span><br><span class="line">  <span class="string">&quot;style&quot;</span>: <span class="number">1</span>,                          <span class="comment">// 样式</span></span><br><span class="line">  <span class="string">&quot;colorStyle&quot;</span>: <span class="number">2</span>,                     <span class="comment">// 颜色样式</span></span><br><span class="line">  <span class="string">&quot;chapterName&quot;</span>: <span class="string">&quot;第一章&quot;</span>,             <span class="comment">// 章节名称（可选）</span></span><br><span class="line">  <span class="string">&quot;translateMode&quot;</span>: <span class="string">&quot;zh&quot;</span>,               <span class="comment">// 翻译模式（可选）</span></span><br><span class="line">  <span class="string">&quot;contextAbstract&quot;</span>: <span class="string">&quot;上下文摘要&quot;</span>      <span class="comment">// 上下文摘要（可选）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;bookmarkId&quot;</span>: <span class="string">&quot;bookmark_789012&quot;</span>,</span><br><span class="line">    <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;range&quot;</span>: <span class="string">&quot;0-100&quot;</span>,</span><br><span class="line">    <span class="string">&quot;markText&quot;</span>: <span class="string">&quot;这是一段重要的内容&quot;</span>,</span><br><span class="line">    <span class="string">&quot;style&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;colorStyle&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&quot;createTime&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">    <span class="string">&quot;updateTime&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">    <span class="string">&quot;chapterName&quot;</span>: <span class="string">&quot;第一章&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="添加公众号书签">添加公众号书签</h3>
<h4 id="POST-https-i-weread-qq-com-book-addBookmark-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/addBookmark">https://i.weread.qq.com/book/addBookmark</a></h4>
<p>添加公众号文章的书签。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;mp_article_123&quot;</span>,          <span class="comment">// 公众号文章ID</span></span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,                           <span class="comment">// 书签类型</span></span><br><span class="line">  <span class="string">&quot;range&quot;</span>: <span class="string">&quot;0-100&quot;</span>,                    <span class="comment">// 选中范围</span></span><br><span class="line">  <span class="string">&quot;markText&quot;</span>: <span class="string">&quot;重要内容&quot;</span>,              <span class="comment">// 标记文本</span></span><br><span class="line">  <span class="string">&quot;style&quot;</span>: <span class="number">1</span>,                          <span class="comment">// 样式</span></span><br><span class="line">  <span class="string">&quot;refMpInfo&quot;</span>: &#123;                       <span class="comment">// 公众号信息</span></span><br><span class="line">    <span class="string">&quot;mpId&quot;</span>: <span class="string">&quot;mp_123&quot;</span>,</span><br><span class="line">    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;文章标题&quot;</span>,</span><br><span class="line">    <span class="string">&quot;author&quot;</span>: <span class="string">&quot;公众号名称&quot;</span>,</span><br><span class="line">    <span class="string">&quot;url&quot;</span>: <span class="string">&quot;https://mp.weixin.qq.com/s/xxx&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取书签列表">获取书签列表</h2>
<h3 id="GET-book-bookmarklist">GET /book/bookmarklist</h3>
<p>获取指定书籍的书签列表。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_123456&quot;</span>,             <span class="comment">// 书籍ID</span></span><br><span class="line">  <span class="string">&quot;synckey&quot;</span>: <span class="number">123456789</span>                 <span class="comment">// 同步键</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;bookmarks&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;bookmarkId&quot;</span>: <span class="string">&quot;bookmark_789012&quot;</span>,</span><br><span class="line">        <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_123456&quot;</span>,</span><br><span class="line">        <span class="string">&quot;chapterUid&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;chapterName&quot;</span>: <span class="string">&quot;第一章&quot;</span>,</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;range&quot;</span>: <span class="string">&quot;0-100&quot;</span>,</span><br><span class="line">        <span class="string">&quot;markText&quot;</span>: <span class="string">&quot;这是一段重要的内容&quot;</span>,</span><br><span class="line">        <span class="string">&quot;style&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;colorStyle&quot;</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="string">&quot;createTime&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">        <span class="string">&quot;updateTime&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">        <span class="string">&quot;contextAbstract&quot;</span>: <span class="string">&quot;上下文摘要&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;synckey&quot;</span>: <span class="number">123456790</span>,</span><br><span class="line">    <span class="string">&quot;hasMore&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;totalCount&quot;</span>: <span class="number">15</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="删除书签">删除书签</h2>
<h3 id="POST-https-i-weread-qq-com-book-removeBookmark">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/removeBookmark">https://i.weread.qq.com/book/removeBookmark</a></h3>
<p>删除书签，支持单个删除、批量删除和按书籍删除。</p>
<h4 id="单个删除"><strong>单个删除:</strong></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">removeBookmark</span>(<span class="params">bookmarkId, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;https://i.weread.qq.com/book/removeBookmark&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">bookmarkId</span>: bookmarkId</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="批量删除"><strong>批量删除:</strong></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">removeBookmarks</span>(<span class="params">bookmarkIds, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;https://i.weread.qq.com/book/removeBookmark&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">bookmarkIds</span>: bookmarkIds</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="按书籍删除"><strong>按书籍删除:</strong></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">removeBookmarksByBook</span>(<span class="params">bookId, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;https://i.weread.qq.com/book/removeBookmark&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">deleteWithBookId</span>: bookId</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="更新书签">更新书签</h2>
<h3 id="POST-https-i-weread-qq-com-book-updateBookmark">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/book/updateBookmark">https://i.weread.qq.com/book/updateBookmark</a></h3>
<p>更新书签的样式和颜色。</p>
<p><strong>更新样式和颜色:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">updateBookmarkStyle</span>(<span class="params">bookmarkId, style, colorStyle, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;https://i.weread.qq.com/book/updateBookmark&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">bookmarkId</span>: bookmarkId,</span><br><span class="line">      <span class="attr">style</span>: style,</span><br><span class="line">      <span class="attr">colorStyle</span>: colorStyle</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="分享书签">分享书签</h2>
<h3 id="POST-https-i-weread-qq-com-bookmark-shareToDiscover">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/bookmark/shareToDiscover">https://i.weread.qq.com/bookmark/shareToDiscover</a></h3>
<p>将书签分享到发现页面。</p>
<h4 id="普通书籍书签分享"><strong>普通书籍书签分享:</strong></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">shareBookmarkToDiscover</span>(<span class="params">bookmarkId, bookId, content, refMpInfo = <span class="literal">null</span>, hideInMyNotes = <span class="literal">false</span>, type = <span class="number">1</span>, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;https://i.weread.qq.com/bookmark/shareToDiscover&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">bookmarkId</span>: bookmarkId,</span><br><span class="line">      <span class="attr">bookId</span>: bookId,</span><br><span class="line">      <span class="attr">content</span>: content,</span><br><span class="line">      <span class="attr">refMpInfo</span>: refMpInfo,</span><br><span class="line">      <span class="attr">hideInMyNotes</span>: hideInMyNotes,</span><br><span class="line">      <span class="attr">type</span>: type</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="公众号书签分享"><strong>公众号书签分享:</strong></h4>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">shareMpBookmarkToDiscover</span>(<span class="params">bookId, range, markText, shareMsg, backgroundColor, fontColor, fontFamily, refMpInfo, hideInMyNotes, type, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;https://i.weread.qq.com/bookmark/shareToDiscover&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">      <span class="attr">bookId</span>: bookId,</span><br><span class="line">      <span class="attr">range</span>: range,</span><br><span class="line">      <span class="attr">markText</span>: markText,</span><br><span class="line">      <span class="attr">shareMsg</span>: shareMsg,</span><br><span class="line">      <span class="attr">backgroundColor</span>: backgroundColor,</span><br><span class="line">      <span class="attr">fontColor</span>: fontColor,</span><br><span class="line">      <span class="attr">fontFamily</span>: fontFamily,</span><br><span class="line">      <span class="attr">refMpInfo</span>: refMpInfo,</span><br><span class="line">      <span class="attr">hideInMyNotes</span>: hideInMyNotes,</span><br><span class="line">      <span class="attr">type</span>: type</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>聊天、存储与反馈 API</h1>
<p>微信读书聊天服务、云对象存储（COS）服务和反馈服务相关的 API 接口。</p>
<h2 id="聊天服务-API">聊天服务 API</h2>
<h3 id="发送消息">发送消息</h3>
<h4 id="POST-https-i-weread-qq-com-chat-send">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/chat/send">https://i.weread.qq.com/chat/send</a></h4>
<p>发送聊天消息。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="number">1</span>,                           <span class="comment">// 消息类型</span></span><br><span class="line">  <span class="string">&quot;sid&quot;</span>: <span class="string">&quot;session_id_here&quot;</span>,            <span class="comment">// 会话ID</span></span><br><span class="line">  <span class="string">&quot;content&quot;</span>: &#123;                         <span class="comment">// 消息内容</span></span><br><span class="line">    <span class="string">&quot;text&quot;</span>: <span class="string">&quot;Hello, world!&quot;</span>,</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">    <span class="string">&quot;extra&quot;</span>: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;clientTime&quot;</span>: <span class="number">1640995200000</span>,         <span class="comment">// 客户端时间戳</span></span><br><span class="line">  <span class="string">&quot;patchVersion&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>              <span class="comment">// 补丁版本（可选）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;messageId&quot;</span>: <span class="string">&quot;msg_123456&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">    <span class="string">&quot;status&quot;</span>: <span class="string">&quot;sent&quot;</span>,</span><br><span class="line">    <span class="string">&quot;sessionId&quot;</span>: <span class="string">&quot;session_id_here&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="标记消息已读">标记消息已读</h3>
<h4 id="POST-https-i-weread-qq-com-chat-read">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/chat/read">https://i.weread.qq.com/chat/read</a></h4>
<p>标记会话中的消息为已读状态。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;sid&quot;</span>: <span class="string">&quot;session_id_here&quot;</span>,            <span class="comment">// 会话ID</span></span><br><span class="line">  <span class="string">&quot;latestMsgId&quot;</span>: <span class="string">&quot;msg_123456&quot;</span>          <span class="comment">// 最新消息ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="删除会话">删除会话</h3>
<h4 id="POST-https-i-weread-qq-com-chat-delete">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/chat/delete">https://i.weread.qq.com/chat/delete</a></h4>
<p>删除指定的聊天会话。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;sid&quot;</span>: <span class="string">&quot;session_id_here&quot;</span>             <span class="comment">// 要删除的会话ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="获取会话列表">获取会话列表</h3>
<h4 id="GET-chat-sessionlist">GET /chat/sessionlist</h4>
<p>获取用户的聊天会话列表。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;synckey&quot;</span>: <span class="number">123456789</span>,                <span class="comment">// 同步键</span></span><br><span class="line">  <span class="string">&quot;removedSynckey&quot;</span>: <span class="number">123456788</span>          <span class="comment">// 已删除消息同步键</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;sessions&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;sessionId&quot;</span>: <span class="string">&quot;session_123&quot;</span>,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: <span class="string">&quot;AI 助手&quot;</span>,</span><br><span class="line">        <span class="string">&quot;lastMessage&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;messageId&quot;</span>: <span class="string">&quot;msg_456&quot;</span>,</span><br><span class="line">          <span class="string">&quot;content&quot;</span>: <span class="string">&quot;最后一条消息内容&quot;</span>,</span><br><span class="line">          <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">          <span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;unreadCount&quot;</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="string">&quot;participants&quot;</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">&quot;userId&quot;</span>: <span class="string">&quot;user_123&quot;</span>,</span><br><span class="line">            <span class="string">&quot;nickname&quot;</span>: <span class="string">&quot;用户昵称&quot;</span>,</span><br><span class="line">            <span class="string">&quot;avatar&quot;</span>: <span class="string">&quot;头像URL&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;updateTime&quot;</span>: <span class="number">1640995200000</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;synckey&quot;</span>: <span class="number">123456790</span>,</span><br><span class="line">    <span class="string">&quot;removedSynckey&quot;</span>: <span class="number">123456789</span>,</span><br><span class="line">    <span class="string">&quot;hasMore&quot;</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="云对象存储-API">云对象存储 API</h2>
<h3 id="获取上传凭证">获取上传凭证</h3>
<h4 id="GET-cos-getcredential">GET /cos/getcredential</h4>
<p>获取云存储上传凭证。</p>
<h5 id="方式一：基础凭证获取"><strong>方式一：基础凭证获取</strong></h5>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getCredential</span>(<span class="params">mode, suffix = <span class="literal">null</span>, <span class="keyword">from</span> = <span class="literal">null</span>, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(&#123;</span><br><span class="line">    <span class="attr">mode</span>: mode.<span class="title function_">toString</span>()</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (suffix) params.<span class="title function_">append</span>(<span class="string">&#x27;suffix&#x27;</span>, suffix);</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">from</span>) params.<span class="title function_">append</span>(<span class="string">&#x27;from&#x27;</span>, <span class="keyword">from</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`https://i.weread.qq.com/cos/getcredential?<span class="subst">$&#123;params&#125;</span>`</span>, &#123;</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="方式二：详细凭证获取"><strong>方式二：详细凭证获取</strong></h5>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getDetailedCredential</span>(<span class="params">name = <span class="literal">null</span>, suffix = <span class="literal">null</span>, pictype = <span class="literal">null</span>, cbid = <span class="literal">null</span>, scene = <span class="literal">null</span>, <span class="keyword">from</span> = <span class="literal">null</span>, vid, skey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (name) params.<span class="title function_">append</span>(<span class="string">&#x27;name&#x27;</span>, name);</span><br><span class="line">  <span class="keyword">if</span> (suffix) params.<span class="title function_">append</span>(<span class="string">&#x27;suffix&#x27;</span>, suffix);</span><br><span class="line">  <span class="keyword">if</span> (pictype) params.<span class="title function_">append</span>(<span class="string">&#x27;pictype&#x27;</span>, pictype);</span><br><span class="line">  <span class="keyword">if</span> (cbid) params.<span class="title function_">append</span>(<span class="string">&#x27;cbid&#x27;</span>, cbid);</span><br><span class="line">  <span class="keyword">if</span> (scene) params.<span class="title function_">append</span>(<span class="string">&#x27;scene&#x27;</span>, scene);</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">from</span>) params.<span class="title function_">append</span>(<span class="string">&#x27;from&#x27;</span>, <span class="keyword">from</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`https://i.weread.qq.com/cos/getcredential?<span class="subst">$&#123;params&#125;</span>`</span>, &#123;</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">      <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">      <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/</span><br></pre></td></tr></table></figure>
<h3 id="接收上传结果">接收上传结果</h3>
<h4 id="POST-https-i-weread-qq-com-cos-receive">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/cos/receive">https://i.weread.qq.com/cos/receive</a></h4>
<p>接收云存储上传完成的通知。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;md5&quot;</span>: <span class="string">&quot;file_md5_hash&quot;</span>,              <span class="comment">// 文件MD5（可选）</span></span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;filename.jpg&quot;</span>,              <span class="comment">// 文件名（可选）</span></span><br><span class="line">  <span class="string">&quot;bookId&quot;</span>: <span class="string">&quot;book_123&quot;</span>,                <span class="comment">// 关联书籍ID（可选）</span></span><br><span class="line">  <span class="string">&quot;timestamp&quot;</span>: <span class="number">1640995200</span>,             <span class="comment">// 时间戳</span></span><br><span class="line">  <span class="string">&quot;random&quot;</span>: <span class="number">12345</span>,                     <span class="comment">// 随机数</span></span><br><span class="line">  <span class="string">&quot;signature&quot;</span>: <span class="string">&quot;signature_string&quot;</span>,     <span class="comment">// 签名</span></span><br><span class="line">  <span class="string">&quot;from&quot;</span>: <span class="string">&quot;app&quot;</span>                        <span class="comment">// 来源</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="反馈服务-API">反馈服务 API</h2>
<h3 id="发送文本反馈">发送文本反馈</h3>
<h4 id="POST-https-i-weread-qq-com-cgi-bin-sync-msg">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/cgi-bin/sync_msg">https://i.weread.qq.com/cgi-bin/sync_msg</a></h4>
<p>发送文本类型的用户反馈。</p>
<p><strong>请求参数:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;screenresolution&quot;</span>: <span class="string">&quot;1920x1080&quot;</span>,     <span class="comment">// 屏幕分辨率</span></span><br><span class="line">  <span class="string">&quot;screenscale&quot;</span>: <span class="number">2.0</span>,                  <span class="comment">// 屏幕缩放比例</span></span><br><span class="line">  <span class="string">&quot;baseinfo&quot;</span>: &#123;                        <span class="comment">// 基础信息</span></span><br><span class="line">    <span class="string">&quot;appId&quot;</span>: <span class="number">123</span>,</span><br><span class="line">    <span class="string">&quot;authtype&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;sid&quot;</span>: <span class="string">&quot;session_id&quot;</span>,</span><br><span class="line">    <span class="string">&quot;vid&quot;</span>: <span class="number">456</span>,</span><br><span class="line">    <span class="string">&quot;appversion&quot;</span>: <span class="string">&quot;7.0.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;platform&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;os&quot;</span>: <span class="string">&quot;Android&quot;</span>,</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;device_name&quot;</span>,</span><br><span class="line">    <span class="string">&quot;deviceid&quot;</span>: <span class="string">&quot;device_id&quot;</span>,</span><br><span class="line">    <span class="string">&quot;imei&quot;</span>: <span class="string">&quot;imei_number&quot;</span>,</span><br><span class="line">    <span class="string">&quot;clitime&quot;</span>: <span class="number">1640995200000</span>,</span><br><span class="line">    <span class="string">&quot;channelid&quot;</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;seqid&quot;</span>: <span class="number">1</span>,                          <span class="comment">// 序列号</span></span><br><span class="line">  <span class="string">&quot;msgdata&quot;</span>: [                         <span class="comment">// 消息数据</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;datatype&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;content&quot;</span>: <span class="string">&quot;这是用户反馈内容&quot;</span>,</span><br><span class="line">      <span class="string">&quot;localtime&quot;</span>: <span class="number">1640995200000</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="发送图片反馈">发送图片反馈</h3>
<h4 id="POST-https-i-weread-qq-com-cgi-bin-sync-msg-2">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/cgi-bin/sync_msg">https://i.weread.qq.com/cgi-bin/sync_msg</a></h4>
<p>发送包含图片的用户反馈。</p>
<p><strong>请求参数（Multipart）:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这是一个 multipart/form-data 请求</span></span><br><span class="line"><span class="keyword">const</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;func&#x27;</span>, <span class="string">&#x27;sync_msg&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;screenresolution&#x27;</span>, <span class="string">&#x27;1920x1080&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;screenscale&#x27;</span>, <span class="string">&#x27;2.0&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;seqid&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;datatype&#x27;</span>, <span class="string">&#x27;2&#x27;</span>); <span class="comment">// 图片类型</span></span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;appId&#x27;</span>, <span class="string">&#x27;123&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;authtype&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;sid&#x27;</span>, <span class="string">&#x27;session_id&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;vid&#x27;</span>, vid.<span class="title function_">toString</span>());</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;appversion&#x27;</span>, <span class="string">&#x27;7.0.0&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;platform&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;os&#x27;</span>, <span class="string">&#x27;Android&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;device_name&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;deviceid&#x27;</span>, <span class="string">&#x27;device_id&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;imei&#x27;</span>, <span class="string">&#x27;imei_number&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;clitime&#x27;</span>, <span class="title class_">Date</span>.<span class="title function_">now</span>().<span class="title function_">toString</span>());</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;channelid&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;localtime&#x27;</span>, <span class="title class_">Date</span>.<span class="title function_">now</span>().<span class="title function_">toString</span>());</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;nickname&#x27;</span>, <span class="string">&#x27;user_nickname&#x27;</span>);</span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;file&#x27;</span>, imageFile); <span class="comment">// 图片文件</span></span><br></pre></td></tr></table></figure>
<h3 id="上传日志文件">上传日志文件</h3>
<h4 id="POST-https-i-weread-qq-com-cgi-bin-log-upload">POST <a target="_blank" rel="noopener external nofollow noreferrer" href="https://i.weread.qq.com/cgi-bin/log_upload">https://i.weread.qq.com/cgi-bin/log_upload</a></h4>
<p>上传应用日志文件用于问题诊断。</p>
<p><strong>前端实现:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(&#123;</span><br><span class="line">  <span class="attr">inputc</span>: <span class="string">&#x27;multipart&#x27;</span>,</span><br><span class="line">  <span class="attr">func</span>: <span class="string">&#x27;log_upload&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(deviceInfo).<span class="title function_">forEach</span>(<span class="function">(<span class="params">[key, value]</span>) =&gt;</span> &#123;</span><br><span class="line">  formData.<span class="title function_">append</span>(key, value.<span class="title function_">toString</span>());</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">formData.<span class="title function_">append</span>(<span class="string">&#x27;logfile&#x27;</span>, logFile);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">`https://feedback.weread.qq.com/cgi-bin/log_upload?<span class="subst">$&#123;params&#125;</span>`</span>, &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;vid&#x27;</span>: vid.<span class="title function_">toString</span>(),</span><br><span class="line">    <span class="string">&#x27;skey&#x27;</span>: skey,</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">body</span>: formData</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="对话框管理">对话框管理</h2>
<h3 id="获取对话框信息">获取对话框信息</h3>
<h4 id="GET-dialog-detail">GET /dialog/detail</h4>
<p>获取指定对话框的详细信息。</p>
<p><strong>请求参数 (Query):</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;dialogId&quot;</span>: <span class="string">&quot;dialog_id_here&quot;</span>         <span class="comment">// 对话框ID</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>请求头:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;vid&quot;</span>: <span class="string">&quot;12345&quot;</span>,</span><br><span class="line">  <span class="string">&quot;skey&quot;</span>: <span class="string">&quot;your_skey&quot;</span>,</span><br><span class="line">  <span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>响应示例:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;errcode&quot;</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="string">&quot;data&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;dialogId&quot;</span>: <span class="string">&quot;dialog_123&quot;</span>,</span><br><span class="line">    <span class="string">&quot;title&quot;</span>: <span class="string">&quot;对话框标题&quot;</span>,</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;feedback&quot;</span>,</span><br><span class="line">    <span class="string">&quot;status&quot;</span>: <span class="string">&quot;active&quot;</span>,</span><br><span class="line">    <span class="string">&quot;createTime&quot;</span>: <span class="number">1640995200</span>,</span><br><span class="line">    <span class="string">&quot;updateTime&quot;</span>: <span class="number">1640995300</span>,</span><br><span class="line">    <span class="string">&quot;participants&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;userVid&quot;</span>: <span class="string">&quot;user_123&quot;</span>,</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;用户名&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;userVid&quot;</span>: <span class="string">&quot;admin_456&quot;</span>,</span><br><span class="line">        <span class="string">&quot;role&quot;</span>: <span class="string">&quot;admin&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;客服&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;lastMessage&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;messageId&quot;</span>: <span class="string">&quot;msg_789&quot;</span>,</span><br><span class="line">      <span class="string">&quot;content&quot;</span>: <span class="string">&quot;最后一条消息&quot;</span>,</span><br><span class="line">      <span class="string">&quot;sendTime&quot;</span>: <span class="number">1640995300</span>,</span><br><span class="line">      <span class="string">&quot;sender&quot;</span>: <span class="string">&quot;user_123&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://yumi1.top">Yichen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://yumi1.top/weread-security-analysis-2/">https://yumi1.top/weread-security-analysis-2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://yumi1.top" target="_blank">Yumi's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/">漏洞分析</a></div><div class="post-share"><div class="social-share" data-image="https://img.paulzzh.com/touhou/random" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat.webp" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.webp" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/weread-security-analysis-4/" title="微信读书客户端 逆向 api文档-2"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.paulzzh.com/touhou/random" onerror="onerror=null;src='https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">微信读书客户端 逆向 api文档-2</div></div><div class="info-2"><div class="info-item-1">CC BY-NC-SA 4.0  通用headers 12345&#123;      &#x27;vid&#x27;: vid.toString(),      &#x27;skey&#x27;: skey,      &#x27;User-Agent&#x27;: &#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;&#125; 登录在微信读书逆向分析-1 1234567891011121314151617// 1. 使用 refresh_token 登录const loginResponse = await fetch(`$&#123;API_BASE&#125;/login`, &#123;  method: &#x27;POST&#x27;,  headers: &#123; &#x27;User-Agent&#x27;: USER_AGENT &#125;,  body: JSON.stringify(&#123;    deviceId: &#x27;1&#x27;,    refCgi: &#x27;&#x27;...</div></div></div></a><a class="pagination-related" href="/weread-security-analysis-3/" title="微信读书客户端 逆向 api文档-3"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.paulzzh.com/touhou/random" onerror="onerror=null;src='https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">微信读书客户端 逆向 api文档-3</div></div><div class="info-2"><div class="info-item-1">CC BY-NC-SA 4.0  通用headers 12345&#123;      &#x27;vid&#x27;: vid.toString(),      &#x27;skey&#x27;: skey,      &#x27;User-Agent&#x27;: &#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;&#125; 登录在微信读书逆向分析-1 1234567891011121314151617// 1. 使用 refresh_token 登录const loginResponse = await fetch(`$&#123;API_BASE&#125;/login`, &#123;  method: &#x27;POST&#x27;,  headers: &#123; &#x27;User-Agent&#x27;: USER_AGENT &#125;,  body: JSON.stringify(&#123;    deviceId: &#x27;1&#x27;,    refCgi: &#x27;&#x27;...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/weread-security-analysis-1/" title="微信读书客户端 逆向分析"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/image/weread-security-analysis-1/2025-08-01-19-57-07.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-01</div><div class="info-item-2">微信读书客户端 逆向分析</div></div><div class="info-2"><div class="info-item-1">🔍 执行摘要 基于对wx读书Android客户端的逆向工程分析,仅供学习交流 微信读书客户端无加固,使用jadx反编译 开启unicode字符转译 开启反混淆 反混淆后的包已经相对较好阅读,使用jadx导出为gradle项目,使用idea/android studio方便阅读  安全风险分析 会话管理安全缺陷 可预测的Session ID生成  sources/com/tencent/weread/model/domain/Session.java sources/moai/storage/Domain.java sources/com/tencent/weread/WeReadFragmentActivity.java  12345678910// Session.java - 会话ID生成逻辑public class Session extends Domain implements Parcelable &#123;    public static int generateId(String str) &#123;        return Domain.hashId...</div></div></div></a><a class="pagination-related" href="/weread-security-analysis-3/" title="微信读书客户端 逆向 api文档-3"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.paulzzh.com/touhou/random" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-04</div><div class="info-item-2">微信读书客户端 逆向 api文档-3</div></div><div class="info-2"><div class="info-item-1">CC BY-NC-SA 4.0  通用headers 12345&#123;      &#x27;vid&#x27;: vid.toString(),      &#x27;skey&#x27;: skey,      &#x27;User-Agent&#x27;: &#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;&#125; 登录在微信读书逆向分析-1 1234567891011121314151617// 1. 使用 refresh_token 登录const loginResponse = await fetch(`$&#123;API_BASE&#125;/login`, &#123;  method: &#x27;POST&#x27;,  headers: &#123; &#x27;User-Agent&#x27;: USER_AGENT &#125;,  body: JSON.stringify(&#123;    deviceId: &#x27;1&#x27;,    refCgi: &#x27;&#x27;...</div></div></div></a><a class="pagination-related" href="/weread-security-analysis-4/" title="微信读书客户端 逆向 api文档-2"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.paulzzh.com/touhou/random" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-04</div><div class="info-item-2">微信读书客户端 逆向 api文档-2</div></div><div class="info-2"><div class="info-item-1">CC BY-NC-SA 4.0  通用headers 12345&#123;      &#x27;vid&#x27;: vid.toString(),      &#x27;skey&#x27;: skey,      &#x27;User-Agent&#x27;: &#x27;WeRead/7.0.0 WRBrand/huawei Dalvik/2.1.0&#x27;&#125; 登录在微信读书逆向分析-1 1234567891011121314151617// 1. 使用 refresh_token 登录const loginResponse = await fetch(`$&#123;API_BASE&#125;/login`, &#123;  method: &#x27;POST&#x27;,  headers: &#123; &#x27;User-Agent&#x27;: USER_AGENT &#125;,  body: JSON.stringify(&#123;    deviceId: &#x27;1&#x27;,    refCgi: &#x27;&#x27;...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="comment-switch"><span class="first-comment">Twikoo</span><span id="switch-btn"></span><span class="second-comment">Livere</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="lv-container" data-id="city" data-uid="MTAyMC81ODg1Ni8zNTMxOA=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">错误码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E7%94%A8%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.1.</span> <span class="toc-text">通用错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%81%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.2.</span> <span class="toc-text">认证相关错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.3.</span> <span class="toc-text">用户相关错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E7%B1%8D%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.4.</span> <span class="toc-text">书籍相关错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%AF%E4%BB%98%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.5.</span> <span class="toc-text">支付相关错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E8%AF%84%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.6.</span> <span class="toc-text">书评相关错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.7.</span> <span class="toc-text">网络相关错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.8.</span> <span class="toc-text">文件操作错误码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%8A%9F%E8%83%BD%E9%94%99%E8%AF%AF%E7%A0%81"><span class="toc-number">1.9.</span> <span class="toc-text">特殊功能错误码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">认证与登录 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%B7%E6%96%B0%E4%BB%A4%E7%89%8C%E7%99%BB%E5%BD%95"><span class="toc-number">2.1.</span> <span class="toc-text">刷新令牌登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-login-%E5%88%B7%E6%96%B0%E4%BB%A4%E7%89%8C"><span class="toc-number">2.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;login (刷新令牌)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95"><span class="toc-number">2.2.</span> <span class="toc-text">微信登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-login-%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95"><span class="toc-number">2.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;login (微信登录)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BF%E5%AE%A2%E7%99%BB%E5%BD%95"><span class="toc-number">2.3.</span> <span class="toc-text">访客登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-guestLogin"><span class="toc-number">2.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;guestLogin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-login-%E8%AE%BF%E5%AE%A2%E8%BD%AC%E6%AD%A3%E5%BC%8F%E7%99%BB%E5%BD%95"><span class="toc-number">2.3.2.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;login (访客转正式登录)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E7%A0%81%E7%99%BB%E5%BD%95"><span class="toc-number">2.4.</span> <span class="toc-text">二维码登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-web-qrlogin"><span class="toc-number">2.4.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;web&#x2F;qrlogin</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E7%A5%A8%E6%8D%AE%E7%9B%B8%E5%85%B3"><span class="toc-number">2.5.</span> <span class="toc-text">微信票据相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-wx-jsapiticket"><span class="toc-number">2.5.1.</span> <span class="toc-text">GET &#x2F;wx&#x2F;jsapiticket</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-wxticket"><span class="toc-number">2.5.2.</span> <span class="toc-text">GET &#x2F;wxticket</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E7%99%BB%E5%87%BA"><span class="toc-number">2.6.</span> <span class="toc-text">设备登出</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-device-logout"><span class="toc-number">2.6.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;device&#x2F;logout</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">应用服务 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%8A%A5%E5%91%8A-API"><span class="toc-number">3.1.</span> <span class="toc-text">日志报告 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-logReport"><span class="toc-number">3.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;logReport</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%91%8A"><span class="toc-number">3.1.1.1.</span> <span class="toc-text">方式一：字符串数据报告</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E5%AF%B9%E8%B1%A1%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%91%8A"><span class="toc-number">3.1.1.2.</span> <span class="toc-text">方式二：对象数据报告</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%89%EF%BC%9A%E7%A6%BB%E7%BA%BF%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%91%8A"><span class="toc-number">3.1.1.3.</span> <span class="toc-text">方式三：离线数据报告</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E5%90%8C%E6%AD%A5-API"><span class="toc-number">3.2.</span> <span class="toc-text">移动同步 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-mobileSync"><span class="toc-number">3.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;mobileSync</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%A3%80%E7%B4%A2-API"><span class="toc-number">3.3.</span> <span class="toc-text">知识检索 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-knowledge-retrieval"><span class="toc-number">3.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;knowledge&#x2F;retrieval</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E6%97%B6%E9%97%B4%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.4.</span> <span class="toc-text">在线时间统计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-app-onlinetime"><span class="toc-number">3.4.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;app&#x2F;onlinetime</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A8%E9%80%81%E9%85%8D%E7%BD%AE-API"><span class="toc-number">3.5.</span> <span class="toc-text">推送配置 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E6%8E%A8%E9%80%81%E4%BB%A4%E7%89%8C"><span class="toc-number">3.5.1.</span> <span class="toc-text">绑定推送令牌</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-updateConfig"><span class="toc-number">3.5.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;updateConfig</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%90%AF%E6%8E%A8%E9%80%81%E4%BB%A4%E7%89%8C"><span class="toc-number">3.5.2.</span> <span class="toc-text">开启推送令牌</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-updateConfig-2"><span class="toc-number">3.5.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;updateConfig</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E6%8E%A8%E9%80%81%E4%BB%A4%E7%89%8C"><span class="toc-number">3.5.3.</span> <span class="toc-text">关闭推送令牌</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-updateConfig-3"><span class="toc-number">3.5.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;updateConfig</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%BB%91%E6%8E%A8%E9%80%81%E4%BB%A4%E7%89%8C"><span class="toc-number">3.5.4.</span> <span class="toc-text">解绑推送令牌</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-updateConfig-4"><span class="toc-number">3.5.4.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;updateConfig</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%BB%91Hub%E4%BB%A4%E7%89%8C"><span class="toc-number">3.5.5.</span> <span class="toc-text">解绑Hub令牌</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-updateConfig-5"><span class="toc-number">3.5.5.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;updateConfig</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%B0Gap%E4%BB%A4%E7%89%8C"><span class="toc-number">3.5.6.</span> <span class="toc-text">上传新Gap令牌</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-updateConfig-6"><span class="toc-number">3.5.6.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;updateConfig</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%A5%E5%91%8A%E6%9C%8D%E5%8A%A1-API"><span class="toc-number">3.6.</span> <span class="toc-text">报告服务 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E6%8A%A5%E6%95%B0%E6%8D%AE%E5%88%B0OSS"><span class="toc-number">3.6.1.</span> <span class="toc-text">上报数据到OSS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-oss-weread-qq-com-wrbus-report-oss"><span class="toc-number">3.6.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;oss.weread.qq.com&#x2F;wrbus&#x2F;report&#x2F;oss</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E6%97%A5%E5%BF%97%E6%8A%A5%E5%91%8A"><span class="toc-number">3.6.2.</span> <span class="toc-text">应用日志报告</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-logReport-2"><span class="toc-number">3.6.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;logReport</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%8A%A5%E5%91%8A%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-number">3.6.3.</span> <span class="toc-text">日志报告工具类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OSS-%E6%9C%8D%E5%8A%A1-API"><span class="toc-number">3.7.</span> <span class="toc-text">OSS 服务 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#OSS-%E6%97%A5%E5%BF%97%E4%B8%8A%E4%BC%A0"><span class="toc-number">3.7.1.</span> <span class="toc-text">OSS 日志上传</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-cgi-bin-oss-log"><span class="toc-number">3.7.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;cgi-bin&#x2F;oss_log</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">AI 聊天 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-AI-HTML"><span class="toc-number">4.1.</span> <span class="toc-text">获取 AI HTML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-ai-wink-proxy"><span class="toc-number">4.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;ai&#x2F;wink&#x2F;proxy</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">书籍 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E9%98%85%E8%AF%BB%E7%8A%B6%E6%80%81"><span class="toc-number">5.1.</span> <span class="toc-text">标记阅读状态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-markstatus"><span class="toc-number">5.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;markstatus</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%AB%A0%E8%8A%82%E4%BF%A1%E6%81%AF"><span class="toc-number">5.2.</span> <span class="toc-text">获取章节信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-chapterInfos"><span class="toc-number">5.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;chapterInfos</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E7%AB%A0%E8%8A%82%E5%86%85%E5%AE%B9"><span class="toc-number">5.3.</span> <span class="toc-text">下载章节内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-book-chapterdownload"><span class="toc-number">5.3.1.</span> <span class="toc-text">GET &#x2F;book&#x2F;chapterdownload</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%91%E5%90%8D%E5%8D%95%E7%AE%A1%E7%90%86"><span class="toc-number">5.4.</span> <span class="toc-text">黑名单管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%89%E9%BB%91-%E5%8F%96%E6%B6%88%E6%8B%89%E9%BB%91%E4%B9%A6%E7%B1%8D"><span class="toc-number">5.4.1.</span> <span class="toc-text">拉黑&#x2F;取消拉黑书籍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-blacklist-books"><span class="toc-number">5.4.1.1.</span> <span class="toc-text">GET &#x2F;blacklist&#x2F;books</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">书籍详情与报告 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E7%B1%8D%E8%AF%A6%E6%83%85-API"><span class="toc-number">6.1.</span> <span class="toc-text">书籍详情 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E4%B9%A6%E7%B1%8D%E6%92%AD%E5%AE%A2"><span class="toc-number">6.1.1.</span> <span class="toc-text">加载书籍播客</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-book-podcasts"><span class="toc-number">6.1.1.1.</span> <span class="toc-text">GET &#x2F;book&#x2F;podcasts</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%88%86%E4%BA%AB%E5%9B%BE%E7%89%87"><span class="toc-number">6.1.2.</span> <span class="toc-text">生成分享图片</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-weread-qq-com-shareimage-generate"><span class="toc-number">6.1.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;weread.qq.com&#x2F;shareimage&#x2F;generate</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A-API"><span class="toc-number">6.2.</span> <span class="toc-text">阅读报告 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%A6%E6%9E%B6%E5%86%85%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A"><span class="toc-number">6.2.1.</span> <span class="toc-text">书架内书籍阅读报告</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-read"><span class="toc-number">6.2.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;read</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E4%B9%A6%E6%9E%B6%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A"><span class="toc-number">6.2.2.</span> <span class="toc-text">非书架书籍阅读报告</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-read-2"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;read</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E9%98%85%E8%AF%BB%E7%8A%B6%E6%80%81-2"><span class="toc-number">6.2.3.</span> <span class="toc-text">标记阅读状态</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-markstatus-2"><span class="toc-number">6.2.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;markstatus</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E5%BA%A6%E4%B8%8A%E4%BC%A0-API"><span class="toc-number">6.3.</span> <span class="toc-text">进度上传 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0-TTS-%E8%BF%9B%E5%BA%A6"><span class="toc-number">6.3.1.</span> <span class="toc-text">上传 TTS 进度</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-uploadProgress"><span class="toc-number">6.3.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;uploadProgress</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E4%B8%8A%E4%BC%A0%E8%BF%9B%E5%BA%A6"><span class="toc-number">6.3.2.</span> <span class="toc-text">批量上传进度</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-batchUploadProgress"><span class="toc-number">6.3.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;batchUploadProgress</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">书籍搜索 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%90%9C%E7%B4%A2-API"><span class="toc-number">7.1.</span> <span class="toc-text">基础搜索 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%A6%E5%BA%97%E7%BB%BC%E5%90%88%E6%90%9C%E7%B4%A2"><span class="toc-number">7.1.1.</span> <span class="toc-text">书店综合搜索</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-store-search"><span class="toc-number">7.1.1.1.</span> <span class="toc-text">GET &#x2F;store&#x2F;search</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E6%A0%87%E9%A2%98%E6%90%9C%E7%B4%A2%E4%B9%A6%E7%B1%8D"><span class="toc-number">7.1.2.</span> <span class="toc-text">按标题搜索书籍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-store-titlesearch"><span class="toc-number">7.1.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;store&#x2F;titlesearch</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">书籍服务 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E7%B1%8D%E4%BF%A1%E6%81%AF-API"><span class="toc-number">8.1.</span> <span class="toc-text">书籍信息 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%8D%95%E6%9C%AC%E4%B9%A6%E7%B1%8D%E4%BF%A1%E6%81%AF"><span class="toc-number">8.1.1.</span> <span class="toc-text">获取单本书籍信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-book-info"><span class="toc-number">8.1.1.1.</span> <span class="toc-text">GET &#x2F;book&#x2F;info</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E8%8E%B7%E5%8F%96%E4%B9%A6%E7%B1%8D%E4%BF%A1%E6%81%AF"><span class="toc-number">8.1.2.</span> <span class="toc-text">批量获取书籍信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-infos"><span class="toc-number">8.1.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;infos</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B9%A6%E7%B1%8D%E6%9B%B4%E6%96%B0%E4%BF%A1%E6%81%AF"><span class="toc-number">8.1.3.</span> <span class="toc-text">获取书籍更新信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-lastchapteridx"><span class="toc-number">8.1.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;lastchapteridx</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E7%B1%8D%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="toc-number">8.2.</span> <span class="toc-text">书籍详细信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B9%A6%E7%B1%8D%E9%A1%B5%E8%84%9A"><span class="toc-number">8.2.1.</span> <span class="toc-text">获取书籍页脚</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-book-footer"><span class="toc-number">8.2.1.1.</span> <span class="toc-text">GET &#x2F;book&#x2F;footer</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B9%A6%E7%B1%8D%E4%BB%98%E8%B4%B9%E6%97%B6%E9%97%B4"><span class="toc-number">8.2.2.</span> <span class="toc-text">获取书籍付费时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-book-paytime"><span class="toc-number">8.2.2.1.</span> <span class="toc-text">GET &#x2F;book&#x2F;paytime</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AI-%E5%8A%9F%E8%83%BD-API"><span class="toc-number">8.3.</span> <span class="toc-text">AI 功能 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AI-%E5%86%85%E5%AE%B9%E7%94%9F%E6%88%90"><span class="toc-number">8.3.1.</span> <span class="toc-text">AI 内容生成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-ai-readbook"><span class="toc-number">8.3.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;ai&#x2F;readbook</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AI-%E7%B4%A2%E5%BC%95%E7%94%9F%E6%88%90"><span class="toc-number">8.3.2.</span> <span class="toc-text">AI 索引生成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-ai-readbook-2"><span class="toc-number">8.3.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;ai&#x2F;readbook</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E8%AF%8D%E6%8F%90%E5%8F%96"><span class="toc-number">8.3.3.</span> <span class="toc-text">实体词提取</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-ai-readbook-3"><span class="toc-number">8.3.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;ai&#x2F;readbook</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%A3%80%E7%B4%A2"><span class="toc-number">8.3.4.</span> <span class="toc-text">知识检索</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-knowledge-retrieval-2"><span class="toc-number">8.3.4.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;knowledge&#x2F;retrieval</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD-API"><span class="toc-number">8.4.</span> <span class="toc-text">搜索功能 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E6%90%9C%E7%B4%A2"><span class="toc-number">8.4.1.</span> <span class="toc-text">内容搜索</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-book-search"><span class="toc-number">8.4.1.1.</span> <span class="toc-text">GET &#x2F;book&#x2F;search</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E5%AE%9A%E4%BD%8D"><span class="toc-number">8.4.2.</span> <span class="toc-text">内容定位</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-locate"><span class="toc-number">8.4.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;locate</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E7%B1%8D%E8%AF%B7%E6%B1%82-API"><span class="toc-number">8.5.</span> <span class="toc-text">书籍请求 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%B7%BB%E5%8A%A0%E4%B9%A6%E7%B1%8D"><span class="toc-number">8.5.1.</span> <span class="toc-text">请求添加书籍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-notfound"><span class="toc-number">8.5.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;notfound</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E5%8A%9F%E8%83%BD-API"><span class="toc-number">8.6.</span> <span class="toc-text">音频功能 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E9%9F%B3%E9%A2%91-URL"><span class="toc-number">8.6.1.</span> <span class="toc-text">获取音频 URL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-audio-geturl"><span class="toc-number">8.6.1.1.</span> <span class="toc-text">GET &#x2F;audio&#x2F;geturl</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E9%9F%B3%E9%A2%91"><span class="toc-number">8.6.2.</span> <span class="toc-text">上传音频</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-audio-apply"><span class="toc-number">8.6.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;audio&#x2F;apply</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E7%B1%8D%E5%88%86%E4%BA%AB-API"><span class="toc-number">8.7.</span> <span class="toc-text">书籍分享 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E4%BA%AB%E5%88%B0%E5%8F%91%E7%8E%B0%E9%A1%B5"><span class="toc-number">8.7.1.</span> <span class="toc-text">分享到发现页</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-shareToDiscover"><span class="toc-number">8.7.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;shareToDiscover</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A2%E9%98%85%E7%AE%A1%E7%90%86"><span class="toc-number">8.8.</span> <span class="toc-text">订阅管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A2%E9%98%85%E4%BD%9C%E8%80%85"><span class="toc-number">8.8.1.</span> <span class="toc-text">订阅作者</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-subscription-operation"><span class="toc-number">8.8.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;subscription&#x2F;operation</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E4%B9%A6%E7%B1%8D%E8%AE%A2%E9%98%85"><span class="toc-number">8.8.2.</span> <span class="toc-text">取消书籍订阅</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-subscription-cancel"><span class="toc-number">8.8.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;subscription&#x2F;cancel</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%AE%A2%E9%98%85%E7%8A%B6%E6%80%81"><span class="toc-number">8.8.3.</span> <span class="toc-text">获取订阅状态</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-shelf-uncertifiedopus"><span class="toc-number">8.8.3.1.</span> <span class="toc-text">GET &#x2F;shelf&#x2F;uncertifiedopus</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text">书单 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E5%8D%95%E7%AE%A1%E7%90%86-API"><span class="toc-number">9.1.</span> <span class="toc-text">书单管理 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B9%A6%E5%8D%95"><span class="toc-number">9.1.1.</span> <span class="toc-text">创建书单</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-add"><span class="toc-number">9.1.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;add</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E4%B9%A6%E5%8D%95"><span class="toc-number">9.1.2.</span> <span class="toc-text">更新书单</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-update"><span class="toc-number">9.1.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;update</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B9%A6%E5%8D%95%E8%AF%A6%E6%83%85"><span class="toc-number">9.1.3.</span> <span class="toc-text">获取书单详情</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-booklist-single"><span class="toc-number">9.1.3.1.</span> <span class="toc-text">GET &#x2F;booklist&#x2F;single</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B9%A6%E5%8D%95%E5%88%97%E8%A1%A8"><span class="toc-number">9.1.4.</span> <span class="toc-text">获取书单列表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-booklists"><span class="toc-number">9.1.4.1.</span> <span class="toc-text">GET &#x2F;booklists</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E4%B9%A6%E5%8D%95%E5%88%A0%E9%99%A4%E4%B9%A6%E7%B1%8D"><span class="toc-number">9.1.5.</span> <span class="toc-text">从书单删除书籍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-delBook"><span class="toc-number">9.1.5.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;delBook</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E5%8D%95%E4%BA%92%E5%8A%A8-API"><span class="toc-number">9.2.</span> <span class="toc-text">书单互动 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E8%B5%9E%E4%B9%A6%E5%8D%95"><span class="toc-number">9.2.1.</span> <span class="toc-text">点赞书单</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-like"><span class="toc-number">9.2.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;like</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%94%B6%E8%97%8F%E4%B9%A6%E5%8D%95"><span class="toc-number">9.2.2.</span> <span class="toc-text">收藏书单</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-collect"><span class="toc-number">9.2.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;collect</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E4%BA%AB%E4%B9%A6%E5%8D%95%E5%88%B0%E5%8F%91%E7%8E%B0%E9%A1%B5"><span class="toc-number">9.2.3.</span> <span class="toc-text">分享书单到发现页</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-shareToDiscover"><span class="toc-number">9.2.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;shareToDiscover</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E4%B9%A6%E5%8D%95"><span class="toc-number">9.2.4.</span> <span class="toc-text">阅读书单</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-read"><span class="toc-number">9.2.4.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;read</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E5%8D%95%E8%AF%84%E8%AE%BA-API"><span class="toc-number">9.3.</span> <span class="toc-text">书单评论 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA"><span class="toc-number">9.3.1.</span> <span class="toc-text">添加评论</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-comment"><span class="toc-number">9.3.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;comment</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E8%AF%84%E8%AE%BA"><span class="toc-number">9.3.1.1.1.</span> <span class="toc-text">发送评论</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9E%E5%A4%8D%E8%AF%84%E8%AE%BA"><span class="toc-number">9.3.1.1.2.</span> <span class="toc-text">回复评论</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%AF%84%E8%AE%BA"><span class="toc-number">9.3.2.</span> <span class="toc-text">删除评论</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-delComment"><span class="toc-number">9.3.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;delComment</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E8%B5%9E%E8%AF%84%E8%AE%BA"><span class="toc-number">9.3.3.</span> <span class="toc-text">点赞评论</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-booklist-commentlike"><span class="toc-number">9.3.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;booklist&#x2F;commentlike</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">10.</span> <span class="toc-text">书签管理 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%B9%A6%E7%AD%BE"><span class="toc-number">10.1.</span> <span class="toc-text">添加书签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%99%AE%E9%80%9A%E4%B9%A6%E7%B1%8D%E4%B9%A6%E7%AD%BE"><span class="toc-number">10.1.1.</span> <span class="toc-text">添加普通书籍书签</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-addBookmark"><span class="toc-number">10.1.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;addBookmark</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%AC%E4%BC%97%E5%8F%B7%E4%B9%A6%E7%AD%BE"><span class="toc-number">10.1.2.</span> <span class="toc-text">添加公众号书签</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-addBookmark-2"><span class="toc-number">10.1.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;addBookmark</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B9%A6%E7%AD%BE%E5%88%97%E8%A1%A8"><span class="toc-number">10.2.</span> <span class="toc-text">获取书签列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-book-bookmarklist"><span class="toc-number">10.2.1.</span> <span class="toc-text">GET &#x2F;book&#x2F;bookmarklist</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%B9%A6%E7%AD%BE"><span class="toc-number">10.3.</span> <span class="toc-text">删除书签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-removeBookmark"><span class="toc-number">10.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;removeBookmark</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%B8%AA%E5%88%A0%E9%99%A4"><span class="toc-number">10.3.1.1.</span> <span class="toc-text">单个删除:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4"><span class="toc-number">10.3.1.2.</span> <span class="toc-text">批量删除:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E4%B9%A6%E7%B1%8D%E5%88%A0%E9%99%A4"><span class="toc-number">10.3.1.3.</span> <span class="toc-text">按书籍删除:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E4%B9%A6%E7%AD%BE"><span class="toc-number">10.4.</span> <span class="toc-text">更新书签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-book-updateBookmark"><span class="toc-number">10.4.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;book&#x2F;updateBookmark</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E4%BA%AB%E4%B9%A6%E7%AD%BE"><span class="toc-number">10.5.</span> <span class="toc-text">分享书签</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#POST-https-i-weread-qq-com-bookmark-shareToDiscover"><span class="toc-number">10.5.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;bookmark&#x2F;shareToDiscover</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E4%B9%A6%E7%B1%8D%E4%B9%A6%E7%AD%BE%E5%88%86%E4%BA%AB"><span class="toc-number">10.5.1.1.</span> <span class="toc-text">普通书籍书签分享:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AC%E4%BC%97%E5%8F%B7%E4%B9%A6%E7%AD%BE%E5%88%86%E4%BA%AB"><span class="toc-number">10.5.1.2.</span> <span class="toc-text">公众号书签分享:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">11.</span> <span class="toc-text">聊天、存储与反馈 API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1-API"><span class="toc-number">11.1.</span> <span class="toc-text">聊天服务 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF"><span class="toc-number">11.1.1.</span> <span class="toc-text">发送消息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-chat-send"><span class="toc-number">11.1.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;chat&#x2F;send</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E6%B6%88%E6%81%AF%E5%B7%B2%E8%AF%BB"><span class="toc-number">11.1.2.</span> <span class="toc-text">标记消息已读</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-chat-read"><span class="toc-number">11.1.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;chat&#x2F;read</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E4%BC%9A%E8%AF%9D"><span class="toc-number">11.1.3.</span> <span class="toc-text">删除会话</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-chat-delete"><span class="toc-number">11.1.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;chat&#x2F;delete</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%BC%9A%E8%AF%9D%E5%88%97%E8%A1%A8"><span class="toc-number">11.1.4.</span> <span class="toc-text">获取会话列表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-chat-sessionlist"><span class="toc-number">11.1.4.1.</span> <span class="toc-text">GET &#x2F;chat&#x2F;sessionlist</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%91%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8-API"><span class="toc-number">11.2.</span> <span class="toc-text">云对象存储 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B8%8A%E4%BC%A0%E5%87%AD%E8%AF%81"><span class="toc-number">11.2.1.</span> <span class="toc-text">获取上传凭证</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-cos-getcredential"><span class="toc-number">11.2.1.1.</span> <span class="toc-text">GET &#x2F;cos&#x2F;getcredential</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E5%9F%BA%E7%A1%80%E5%87%AD%E8%AF%81%E8%8E%B7%E5%8F%96"><span class="toc-number">11.2.1.1.1.</span> <span class="toc-text">方式一：基础凭证获取</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E8%AF%A6%E7%BB%86%E5%87%AD%E8%AF%81%E8%8E%B7%E5%8F%96"><span class="toc-number">11.2.1.1.2.</span> <span class="toc-text">方式二：详细凭证获取</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E6%94%B6%E4%B8%8A%E4%BC%A0%E7%BB%93%E6%9E%9C"><span class="toc-number">11.2.2.</span> <span class="toc-text">接收上传结果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-cos-receive"><span class="toc-number">11.2.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;cos&#x2F;receive</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E9%A6%88%E6%9C%8D%E5%8A%A1-API"><span class="toc-number">11.3.</span> <span class="toc-text">反馈服务 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E6%96%87%E6%9C%AC%E5%8F%8D%E9%A6%88"><span class="toc-number">11.3.1.</span> <span class="toc-text">发送文本反馈</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-cgi-bin-sync-msg"><span class="toc-number">11.3.1.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;cgi-bin&#x2F;sync_msg</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E9%80%81%E5%9B%BE%E7%89%87%E5%8F%8D%E9%A6%88"><span class="toc-number">11.3.2.</span> <span class="toc-text">发送图片反馈</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-cgi-bin-sync-msg-2"><span class="toc-number">11.3.2.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;cgi-bin&#x2F;sync_msg</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">11.3.3.</span> <span class="toc-text">上传日志文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#POST-https-i-weread-qq-com-cgi-bin-log-upload"><span class="toc-number">11.3.3.1.</span> <span class="toc-text">POST https:&#x2F;&#x2F;i.weread.qq.com&#x2F;cgi-bin&#x2F;log_upload</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%AF%9D%E6%A1%86%E7%AE%A1%E7%90%86"><span class="toc-number">11.4.</span> <span class="toc-text">对话框管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%AF%9D%E6%A1%86%E4%BF%A1%E6%81%AF"><span class="toc-number">11.4.1.</span> <span class="toc-text">获取对话框信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GET-dialog-detail"><span class="toc-number">11.4.1.1.</span> <span class="toc-text">GET &#x2F;dialog&#x2F;detail</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-color: rgba(255,255,255,0);;"><div class="footer-other"><div class="footer-copyright"></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/custom-animations.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://commityumi.netlify.app/.netlify/functions/twikoo',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://commityumi.netlify.app/.netlify/functions/twikoo',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn1.tianli0.top/npm/js-heo@1.0.3/twikoo/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'

  const loadLivere = (el, path) => {
    window.livereOptions = {
      refer: path || location.pathname
    }

    if (isShuoshuo) {
      window.shuoshuoComment.destroyLivere = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    if (typeof LivereTower === 'object') window.LivereTower.init()
    else {
      (function(d, s) {
          var j, e = d.getElementsByTagName(s)[0];
          if (typeof LivereTower === 'function') { return; }
          j = d.createElement(s);
          j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
          j.async = true;
          e.parentNode.insertBefore(j, e);
      })(document, 'script');
    }
  }

  if (isShuoshuo) {
    'Twikoo' === 'Livere'
      ? window.shuoshuoComment = { loadComment: loadLivere }
      : window.loadOtherComment = loadLivere
    return
  }

  if ('Twikoo' === 'Livere' || !false) {
    if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
    else loadLivere()
  } else {
    window.loadOtherComment = loadLivere
  }
})()</script></div><script>window.newestComments = {
  changeContent: content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g, "") // remove html tag

    if (content.length > 150) {
      content = content.substring(0, 150) + '...'
    }
    return content
  },

  generateHtml: (array, ele) => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class="aside-list-item">'

        if (true && array[i].avatar) {
          const imgAttr = 'data-lazy-src'
          const lazyloadNative = ''
          result += `<a href="${array[i].url}" class="thumbnail"><img ${imgAttr}="${array[i].avatar}" alt="${array[i].nick}" ${lazyloadNative}></a>`
        }

        result += `<div class="content">
        <a class="comment" href="${array[i].url}" title="${array[i].content}">${array[i].content}</a>
        <div class="name"><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '暂无评论'
    }

    ele.innerHTML = result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh(ele)
  },

  newestCommentInit: (name, getComment) => {
    const $dom = document.querySelector('#card-newest-comments .aside-list')
    if ($dom) {
      const data = btf.saveToLocal.get(name)
      if (data) {
        newestComments.generateHtml(JSON.parse(data), $dom)
      } else {
        getComment($dom)
      }
    }
  },

  run: (name, getComment) => {
    newestComments.newestCommentInit(name, getComment)
    btf.addGlobalFn('pjaxComplete', () => newestComments.newestCommentInit(name, getComment), name)
  }
}</script><script>window.addEventListener('load', () => {
  const keyName = 'twikoo-newest-comments'
  const { changeContent, generateHtml, run } = window.newestComments

  const getComment = ele => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://commityumi.netlify.app/.netlify/functions/twikoo',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(res => {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        btf.saveToLocal.set(keyName, JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray, ele)
      }).catch(err => {
        console.error(err)
        ele.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      btf.getScript('https://cdn1.tianli0.top/npm/js-heo@1.0.3/twikoo/twikoo.all.min.js').then(runTwikoo)
    }
  }

  run(keyName, getComment)
})</script><div style="
  text-align: center;
  margin-top: 20px;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.2);
">
  <p style="margin: 10px 0;">
    <span>
      <img class="icp-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/3.ico" style="vertical-align: middle; margin-right: 3px; width: 20px; height: 20px;">
      <a href="https://icp.gov.moe/?keyword=20232218" rel="external nofollow noreferrer" target="_blank" style="color: #fff; text-decoration: none; font-size: 12px; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">萌ICP备20232218号</a>
    </span>
  </p>
  <p style="margin: 10px 0;">
    <a href="https://app.netlify.com/sites/yichen1" rel="external nofollow noreferrer" target="_blank">
      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.netlify.com/api/v1/badges/f4d1b30b-18ae-4b6e-b430-5fb2901e25db/deploy-status" alt="netlify_status" style="margin: 2px; border-radius: 4px;">
    </a>
    <a href="https://vercel.com/yichen11818s-projects/blog" rel="external nofollow noreferrer" target="_blank">
      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://vercelbadge.soraharu.com/?app=yumi1" alt="vercel" style="margin: 2px; border-radius: 4px;">
    </a>
    <a href="https://dash.zeabur.com/projects/665625bd0f7ba66e4ba42867/services/665625c40f7ba66e4ba42869?envID=665625bdc0045f4aebb01bbb" rel="external nofollow noreferrer" target="_blank">
      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/zeabur-deployed-brightgreen?style=flat&logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAgAAAAGrCAMAAACBld94AAAABGdBTUEAALGPC%2FxhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAFzUkdCAK7OHOkAAABUUExURQAAAP%2F%2F%2F%2F%2F%2F%2F%2F9AAP%2F%2F%2F%2F%2BFVf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2Fn3%2F%2BhgP9EAP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F2UA%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2BhgP9EAGMA%2FzHf3JIAAAAYdFJOUwAQICAwMEBgb3B%2FgICAgI%2BQn5%2Bvv8%2Ff76OlhKQAAAUNSURBVHja7d1hciJVAEZRwNiMRo1oB1rZ%2Fz5tY5UxkzCZWCHTcM%2FZwnd%2F9Kv3ClYAAAAAAAAAAAAAAFy0I%2B9ruhgCEIAABHBEAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAiA6WIIQAACEMARASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAmC6GAAQgAAEcEQACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACYLoYAhCAAARwRAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQABcYAC%2F8b52%2B%2BkyjCvOYDNOl2B%2FO6x4f%2Bu76QJY%2F0zWPx6mxTv8av3u%2FNY%2Fn%2B3iP%2F6sf0bD%2FbRs1j%2BnYeGf%2FtY%2Fq5tlz3%2FYDesVZ7PZTQtm%2FfKn%2F2HcWj87v%2FXP79Ny57f%2B%2BQ2LPfiPP1h%2FlT35Wb88v%2FX%2FVj35Wf8fzSvf8db6D5Inv%2FF2s6I6%2F976j3JXvh73POp9%2Bh%2Bs%2F6A5vyvep1qPfa3%2FsdaLOvhb%2F6nWp7%2F1H%2FXmP%2Bys%2F9G2i5nf456XVK58D79b%2F7nKyc%2Fjns%2Bk5rf%2BCY0rX1e8L4p8%2Blv%2FmdD81j%2Fl8NjX%2Bl9w9Ve%2B1j%2Ft%2Bj%2F9Pe55WWN%2B63%2FRlV%2F5etzzmmt%2B7Gv9V1z1yc8V72nXP7%2F1X3PNJz%2Frf41r%2FX0n63%2BNaz35WX8Rbk7N72lXwakrX0%2B7Er7Jp%2F9htP4yvDy%2Fxz0VJ658%2FW5Tw4uPfV3xVvzn5Gf9nsf5rR%2F078nP%2BkXPr3z9blPIs5Ofxz0lHzn%2FvfUX57MrX497WobR%2BmFP5nfFW7MZrR%2B23lk%2FbP70t37XPL%2F1w7YP83vcEzXsrR82jB73hA2j9cM2O1e8YfOnv%2FW75vmtH%2FbpYP2w7d76YcPocU%2FYMFo%2FbDP6S76w9Z3HPWHzyc9f8nXN87viDdvurR823Fs%2FbBitH3Yz%2Bt2msM3O456w%2BdPfX%2FJ1zfN73BP26WD9sGHvijdsGK0fNozWD9vsrB%2B2vrN%2B2Hzy87ina57f%2BmHbvcc9YcNo%2FbBhdMUbthmtH7beWT9s%2FvS3ftc8v%2FXDtgePe8KGvfXDhtFf8oUNo8c9H2qzKDe76f%2FY%2F%2FT9d7zV6sF0Ff74kzcTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAohbPbi9Cj%2F%2FwputAAAAyPkLdxcBz%2FNnKh0AAAAASUVORK5CYII%3D&label=zeabur" alt="zeabur" style="margin: 2px; border-radius: 4px;">
    </a>
  </p>
  <p style="margin: 10px 0;">
    <a href="https://github.com/yichen11818/blog" rel="external nofollow noreferrer" target="_blank">
      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://badgen.net/github/commits/yichen11818/blog" alt="commits" style="margin: 2px; border-radius: 4px;">
    </a>
    <a href="https://github.com/yichen11818/blog" rel="external nofollow noreferrer" target="_blank">
      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://badgen.net/github/last-commit/yichen11818/blog" alt="last-commit" style="margin: 2px; border-radius: 4px;">
    </a>
  </p>
</div>
<canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:description\"]","link[rel=\"canonical\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"]):not([href="/eatpl/"]):not([href="/baidu_verify_codeva-AgFJfZw3E4.html"]):not([href="/robots.txt"]):not([href="/ydk/"]):not([href="/1e2fe79c78614eccb05c33ce7a156919.txt"]):not([href="/gnustrymooc.md"]):not([href="/stu_ityxb.md"]):not([href="/tencent8433070572161675678.txt"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      true
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>